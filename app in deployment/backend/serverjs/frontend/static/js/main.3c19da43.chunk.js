(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,a){e.exports=a(83)},43:function(e,t,a){},53:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=(a(43),a(3)),i=a(4),l=a(7),o=a(5),c=a(6),m=a(10),d=a(21),u=a(22),p=function(){return r.a.createElement("li",{className:"dropdown"},r.a.createElement(m.c,{className:"dropdown-toggle","data-toggle":"dropdown",to:"/"},r.a.createElement("span",null,"Administrare"),"\xa0",r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu"},r.a.createElement("li",{className:"dropdown-header allline"},"Updatare"),r.a.createElement("li",{className:"halfSpace"},r.a.createElement(m.b,{to:"/UpdatareInformatii"},"Updatare Informatii")),r.a.createElement("li",{role:"separator",className:"divider"}),r.a.createElement("li",{className:"dropdown-header allline"},"Introducere Informatii"),r.a.createElement("li",{className:"halfSpace"},r.a.createElement(m.b,{to:"/IntroducereImprimantaNoua",refresh:"true"},"Introducere Imprimanta Noua")),r.a.createElement("li",{className:"halfSpace"},r.a.createElement(m.b,{to:"/IntroducereMagazinNou"},"Introducere Magazin Nou")),r.a.createElement("li",{className:"halfSpace"},r.a.createElement(m.b,{to:"/IntroducereUserNou"},"Introducere User Nou")),r.a.createElement("li",{className:"halfSpace"},r.a.createElement(m.b,{to:"/IntroducereReparatie"},"Introducere Reparatie")),r.a.createElement("li",{role:"separator",className:"divider"}),r.a.createElement("li",{className:"dropdown-header allline"},"Vizualizare Date"),r.a.createElement("li",{className:"allline"},r.a.createElement(m.b,{to:"/VizualizareListareMagazine"},"Listare/Stergere Magazine")),r.a.createElement("li",{className:"allline"},r.a.createElement(m.b,{to:"/VizualizareListareUseri"},"Listare/Stergere Useri")),r.a.createElement("li",{className:"allline"},r.a.createElement(m.b,{to:"/VizualizareListareImprimante"},"Listare/Stergere Imprimante"))))},b=function(){return r.a.createElement("li",{className:"dropdown"},r.a.createElement(m.c,{className:"dropdown-toggle","data-toggle":"dropdown",to:"/"},r.a.createElement("span",null,"Probleme Imprimante"),"\xa0",r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu bold"},r.a.createElement("li",{className:"dropdown-header allline"},"Sesizeaza o problema"),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/SesizareProblemaNoua"},"Sesizare Problema Noua"))))},g=function(){return r.a.createElement("li",{className:"dropdown"},r.a.createElement(m.c,{className:"dropdown-toggle","data-toggle":"dropdown",to:"/"},r.a.createElement("span",null,"Rapoarte"),"\xa0",r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu bold"},r.a.createElement("li",{className:"dropdown-header allline"},"Vizializare Rapoarte"),r.a.createElement("li",{className:"allline"},r.a.createElement(m.b,{to:"/PretReparatiiImprimante"},"Pret reparatii / imprimante")),r.a.createElement("li",{className:"allline"},r.a.createElement(m.b,{to:"/PretReparatiiMagazin"},"Pret reparatii / magazin")),r.a.createElement("li",{className:"allline"},r.a.createElement(m.b,{to:"/VizualizareIstorieImprimanteMagazin"},"Vizualizare Istoric Imprimante / Magazin")),r.a.createElement("li",{className:"allline"},r.a.createElement(m.b,{to:"/VizualizareIstorieImprimante"},"Vizualizare Istoric Imprimante")),r.a.createElement("li",{className:"allline"},r.a.createElement(m.b,{to:"/VizualizareReparatiiImprimanta"},"Vizualizare Reparatii / Imprimanta"))))},h=Object(u.b)(function(e){return{state:e.auth}})(function(e){var t=function(e){sessionStorage.clear()};return r.a.createElement("nav",{className:"navbar navbar-default padding"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement(m.b,{to:"/",className:"navbar-brand"},r.a.createElement("img",{src:"../img/unicarm_logo.png",className:"img img-logo",alt:"Unicarm logo"}),r.a.createElement("span",{className:"logo"},"Unicarm Printer Monitor"))),r.a.createElement(function(){return e.state.credentials.username&&e.state.credentials.token&&e.state.credentials.role?"admin"===e.state.credentials.role?r.a.createElement("ul",{className:"nav navbar-nav "},r.a.createElement(p,null),r.a.createElement(b,null),r.a.createElement(g,null)):"storeraport"===e.state.credentials.role?r.a.createElement("ul",{className:"nav navbar-nav "},r.a.createElement(b,null),r.a.createElement(g,null)):"store"===e.state.credentials.role?r.a.createElement("ul",{className:"nav navbar-nav "},r.a.createElement(b,null)):"raport"===e.state.credentials.role?r.a.createElement("ul",{className:"nav navbar-nav "},r.a.createElement(g,null)):void 0:""},null),r.a.createElement(function(){return e.state.credentials.username&&e.state.credentials.token&&e.state.credentials.role?r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",null,r.a.createElement(m.b,{to:"/",className:""},r.a.createElement("span",{className:"glyphicon glyphicon-user"}),"\xa0",r.a.createElement("span",null,e.state.credentials.username.toUpperCase()))),r.a.createElement("li",null,r.a.createElement("a",{onClick:t,href:"/"},r.a.createElement("span",{className:"glyphicon glyphicon-log-in"})," \xa0Log Out"))):r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",null,r.a.createElement(m.b,{to:"/Login"},r.a.createElement("span",{className:"glyphicon glyphicon-user"})," \xa0Log In")))},null)))}),f=a(19),v=(a(53),a(8)),_=a.n(v),E=function(e){return function(t,a){var n={username:e.username,password:e.password},r=window.origin;_.a.post(r+"/api/login_auth",n).then(function(a){console.log("response from auth : ",a);var n=a.data,r=n.auth,s=n.token,i=n.role;if("ok"===r)if("admin"!==i&&"store"!==i&&"raport"!==i&&"storeraport"!==i){var l=Object.assign({},{type:"userauth"},{credentials:{username:"",token:"",role:""}});t(l)}else{var o=e.username;!function(e,t,a){sessionStorage.setItem("token",e),sessionStorage.setItem("role",t),sessionStorage.setItem("user_name",a)}(s,i,o);var c=Object.assign({},{username:o,token:s,role:i}),m=Object.assign({},{type:"userauth"},{credentials:c});t(m)}else{var d=Object.assign({},{type:"userauth"},{credentials:{username:"",token:"",role:""}});t(d)}}).catch(function(e){return console.log(e),null})}},S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleSubmit=function(e){e.preventDefault(),document.getElementById("username").value="",document.getElementById("password").value="",a.props.sendAuth(Object.assign({},a.state))},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.id,e.target.value))},a.handleClose=function(e){a.props.history.push("/")},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){""!==this.props.state.token&&this.props.history.push("/")}},{key:"componentDidUpdate",value:function(){""!==this.props.state.token&&this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",{className:"loginpopup"},r.a.createElement("div",{className:"wrapper-login"},r.a.createElement("div",{className:"x",onClick:this.handleClose},"X"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control login-form-control",id:"username",placeholder:"User",onChange:this.handleChange}),r.a.createElement("label",{className:"labelControl",htmlFor:"username"},"User")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control login-form-control",id:"password",placeholder:"Parola",onChange:this.handleChange}),r.a.createElement("label",{className:"labelControl",htmlFor:"password"},"Parola")),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"center"},r.a.createElement("button",{type:"submit",className:"btn btn-default",onClick:this.handleSubmit},"Login"))))))}}]),t}(n.Component),y=Object(u.b)(function(e){return{state:e.auth.credentials}},function(e){return{sendAuth:function(t){return e(E(t))}}})(S),N=a(2),O=a(12),I=a(1),C=a.n(I),j=(a(73),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;C()(".close").on("click",function(){C()(".overlay").css("visibility","hidden"),e.props.resetState()}),C()(".btn-ok").on("click",function(){C()(".overlay").css("visibility","hidden"),e.props.resetState()}),C()(".content").html(this.props.Body)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"popup1",className:"overlay"},r.a.createElement("div",{className:"popup"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",null,this.props.Title),r.a.createElement("div",{className:"close"},"X"),r.a.createElement("div",{className:"content text-info"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{className:"btn-ok btn btn-primary"},"OK"))))}}]),t}(n.Component)),z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={nume_magazin:"",locatie_magazin:"",result:"",validateCount:2,modal_state:"",modal_title:"",modal_body:""},a.resetState=function(){a.setState(Object(N.a)({},a.state,{modal_state:"",modal_title:"",modal_body:""}))},a.formValidator=function(){for(var e="",t=!0,n=1;n<=a.state.validateCount;n++){if(""===C()(".validatefield"+n).val())e+="<p> "+(C()("#validatefieldmsg"+n).text()+" este Obligatoriu!!!")+" </p>",t=!1}return t||a.setState(Object(N.a)({},a.state,{modal_state:"yes",modal_title:"Informatii Incorecte!!!",modal_body:e})),t},a.handleSubmit=function(e){if(e.preventDefault(),a.formValidator()){var t=Object.assign({},{payload:a.state},{type:"NEW_STORE"}),n=Object(O.a)(Object(O.a)(a)),r=window.origin;_.a.post(r+"/api/Updates",t).then(function(t){try{var r=JSON.parse(t.data).response;if(""===r){n.setState(Object(N.a)({},a.state,{result:"Record Already Exists"}))}if("1"===r){n.setState(Object(N.a)({},a.state,{result:"Record Updated"}))}}catch(e){C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),C()("#submitBtnRecord").addClass("bg-red")}})}},a.handleBackButton=function(e){var t=Object.assign({},{nume_magazin:"",locatie_magazin:"",result:""});a.setState(t)},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.id,e.target.value))},a.loginComponent=function(){return""===a.state.result?r.a.createElement("form",{onSubmit:a.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{id:"validatefieldmsg1",className:"text-info text-medium",htmlFor:"nume_magazin"},"*Nume Magazin"),r.a.createElement("input",{onChange:a.handleChange,type:"text",className:"validatefield1 form-control",id:"nume_magazin",placeholder:"Nume Magazin"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{id:"validatefieldmsg2",className:"text-info text-medium",htmlFor:"locatie_magazin"},"*Locatie Magazin"),r.a.createElement("input",{onChange:a.handleChange,type:"text",className:"validatefield2 form-control",id:"locatie_magazin",placeholder:"Nume Magazin"})),r.a.createElement("button",{onSubmit:a.handleSubmit,id:"submitBtnRecord",className:"btn btn-primary"},"+ Salveaza Magazin")):"Record Updated"===a.state.result?r.a.createElement("div",{className:"alert alert-success"},r.a.createElement("strong",null,"Magazin Introdus cu Succes"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:a.handleBackButton,className:"btn btn-primary"},r.a.createElement("span",{className:"glyphicon glyphicon-ok"})," Inapoi")):r.a.createElement("div",{className:"alert alert-danger"},"Magazinul deja exista",r.a.createElement("strong",null," Poate Doriti sa il updatati!!! Atunci sunteti in meniul gresit"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:a.handleBackButton,className:"btn btn-primary"},r.a.createElement("span",{className:"glyphicon glyphicon-arrow-left"})," Margeti Inapoi"))},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){""===sessionStorage.getItem("user_name")&&""===sessionStorage.getItem("token")&&this.props.history.push("/"),"admin"!==sessionStorage.getItem("role")&&this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 "},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("br",null),r.a.createElement("div",{className:"col-centered"},r.a.createElement("h1",null,"Introducere Magazin Nou"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"form-width-medium"},r.a.createElement(this.loginComponent,null))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))),this.state.modal_state&&r.a.createElement(j,{Title:this.state.modal_title,Body:this.state.modal_body,resetState:this.resetState}))}}]),t}(n.Component),x=a(9),w=function(e){return r.a.createElement("tr",{id:"tdParent"+e.index},e.sqlTableFildsList.map(function(t,a){return r.a.createElement("td",{id:e.index,className:e.sqlTableFildsList[a]+e.index+" cursor",key:a},e.item[t])}))},T=(a(74),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={type:"",viewTableFildsList:[],sqlTableFildsList:[],sqlcommand:"",storelist:[],toDeleteList:[],table_name:"",deleteListIndexBy:"",response:""},a.getTableRequestedData=function(){var e=Object.assign({},Object(N.a)({},a.props.state));a.setState(e);var t=window.origin;_.a.post(t+"/api/Listare",e).then(function(e){try{var t=JSON.parse(e.data).response;if("NoItemsInTheList"===t&&C()("#EmptySpan").removeClass("hidden"),"ok"===t){C()("#EmptySpan").addClass("hidden");var n=JSON.parse(e.data).storelist,r=Object.assign({},Object(N.a)({},a.state),{storelist:Object(x.a)(n)});a.setState(r)}}catch(s){C()("#EmptySpan").text("Conexiune cu baza de date Inexistenta!!"),C()("#EmptySpan").addClass("bg-red"),C()("#EmptySpan").removeClass("hidden")}})},a.postTableRequestedData=function(e){var t=window.origin;_.a.post(t+"/api/Delete",e).then(function(e){var t=JSON.parse(e.data).response;if("ok"===t){var n=Object.assign({},Object(N.a)({},a.state),{response:t});a.setState(n),a.getTableRequestedData()}})},a.returnTableHeader=a.props.state.viewTableFildsList.map(function(e,t){return r.a.createElement("th",{id:a.props.state.sqlTableFildsList[t],key:t},e)}),a.handleClickChange=function(e){var t="#tdParent"+e.target.id,n=C()("."+a.state.deleteListIndexBy+e.target.id).text();C()(t).hasClass("itemToDelete")?(a.setState(Object(N.a)({},a.state,{toDeleteList:a.state.toDeleteList.filter(function(e){return e!==n})})),C()(t).removeClass("itemToDelete")):(a.setState(Object(N.a)({},a.state,{toDeleteList:[].concat(Object(x.a)(a.state.toDeleteList),[n])})),C()(t).addClass("itemToDelete"))},a.handleSubmit=function(e){if(e.preventDefault(),a.state.toDeleteList.length>0){var t=Object.assign({},Object(N.a)({},a.state),{type:"Delete_General"});a.postTableRequestedData(t)}},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.getTableRequestedData()}},{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 col-sm12"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("br",null),r.a.createElement("div",{className:"col-centered"},r.a.createElement("h1",null,this.props.state.componentTitle),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("table",{onClick:this.handleClickChange,className:"table-responsive table table-bordered table-striped table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,0!==this.state.viewTableFildsList.length&&this.returnTableHeader)),r.a.createElement("tbody",null,0!==this.state.storelist.length&&this.state.storelist.map(function(t,a){return r.a.createElement(w,{key:a,sqlTableFildsList:e.state.sqlTableFildsList,index:a,item:t})}),r.a.createElement("tr",null,r.a.createElement("td",{id:"EmptySpan",className:"info",colSpan:this.state.viewTableFildsList.length},"Empty")))),r.a.createElement("br",null),r.a.createElement("button",{onSubmit:this.handleSubmit,className:"btn"},"Sterge Intrari"),r.a.createElement("br",null),r.a.createElement("br",null))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))))}}]),t}(n.Component)),L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={type:"General_Listing",viewTableFildsList:["Name Magazin","Locatie Magazin"],sqlTableFildsList:["store_name","store_location"],sqlcommand:"select store_name, store_location from store_info ORDER BY store_name ASC",storelist:[],componentTitle:"Listare/Stergere Magazine",table_name:"store_info",deleteListIndexBy:"store_name",response:""},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){""===sessionStorage.getItem("user_name")&&""===sessionStorage.getItem("token")&&this.props.history.push("/"),"admin"!==sessionStorage.getItem("role")&&this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T,{state:this.state}))}}]),t}(n.Component),k=function(e){function t(){var e,a,n=this;Object(s.a)(this,t);for(var i=arguments.length,c=new Array(i),m=0;m<i;m++)c[m]=arguments[m];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={storelist:[],locatie_magazin:"",result:"",date:"",modal_state:"",modal_title:"",modal_body:"",validateCount:5},a.resetState=function(){a.setState(Object(N.a)({},a.state,{modal_state:"",modal_title:"",modal_body:""}))},a.ListaOptiuniStatusImprimante=[],a.getOptionsList=function(){var e=Object.assign({},{type:"Listare_Optiuni_Imprimanta"}),t=window.origin;_.a.post(t+"/api/Listare",e).then(function(e){try{if("ListaOptiuniImprimanta"===JSON.parse(e.data).response){var t=JSON.parse(e.data).optiuniImprimanta;a.ListaOptiuniStatusImprimante=Object(x.a)(t),a.resetState()}}catch(n){C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),C()("#submitBtnRecord").addClass("bg-red")}})},a.formValidator=function(){for(var e="",t=!0,n=1;n<=a.state.validateCount;n++)if(C()(".validatefield"+n).is("select")){var r=C()(".validatefield"+n+" option[disabled]:selected").val();if(C()(".validatefield"+n).find(":selected").val()===r)e+="<p> "+(C()("#validatefieldmsg"+n).text()+" este Obligatoriu!!!")+" </p>",t=!1}else{if(""===C()(".validatefield"+n).val())e+="<p> "+(C()("#validatefieldmsg"+n).text()+" este Obligatoriu!!!")+" </p>",t=!1}return t||a.setState(Object(N.a)({},a.state,{modal_state:"yes",modal_title:"Informatii Incorecte!!!",modal_body:e})),t},a.handleSubmit=function(e){if(e.preventDefault(),a.formValidator()){var t={printer_brand:C()("#printer_brand").val(),printer_model:C()("#printer_model").val(),printer_sn:C()("#printer_sn").val(),store_id_name:C()("#store_id_name").val(),printer_status:C()("#printer_status").val(),printer_list_price:C()("#printer_list_price").val(),printer_installed_date:C()("#printer_installed_date").val(),changed_by:sessionStorage.getItem("user_name")},n=Object.assign({},{payload:t},{type:"NEW_PRINTER"}),r=Object(O.a)(Object(O.a)(a)),s=window.origin;_.a.post(s+"/api/Updates",n).then(function(t){try{var n=JSON.parse(t.data).response;if(""===n){r.setState(Object(N.a)({},a.state,{result:"Record Already Exists"}))}if("1"===n){r.setState(Object(N.a)({},a.state,{result:"Record Updated"}))}}catch(e){C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),C()("#submitBtnRecord").addClass("bg-red")}})}},a.handleBackButton=function(e){var t=Object.assign({},{nume_magazin:"",locatie_magazin:"",result:""});a.setState(t)},a.handleChange=function(e){},a.datepicker=function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("input",{className:"form-control",id:"printer_installed_date",placeholder:"YYYY/MM/DD",type:"date"}))},a.storeModal=function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"input-field col s12 m6"},r.a.createElement("select",{id:"store_id_name",defaultValue:"Magazine",className:"validatefield4 browser-default"},r.a.createElement("option",{disabled:!0},"Magazine"),a.state.storelist.map(function(e,t){return r.a.createElement("option",{key:t},e.store_name)}))))},a.stareImprimanta=function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"input-field col s12 m6"},r.a.createElement("select",{id:"printer_status",defaultValue:"Selecteaza o optiune",className:"validatefield5 browser-default"},r.a.createElement("option",{disabled:!0},"Selecteaza o optiune"),a.ListaOptiuniStatusImprimante.map(function(e,t){return r.a.createElement("option",{key:t},e.option_name)}))))},a.loginComponent=function(){return""===a.state.result?r.a.createElement("form",{onSubmit:a.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{id:"validatefieldmsg1",className:"text-medium text-danger",htmlFor:"printer_brand"},"*Brand Imprimanta"),r.a.createElement("input",{type:"text",className:"validatefield1 form-control",id:"printer_brand",placeholder:"Brand Imprimanta"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{id:"validatefieldmsg2",className:"text-medium text-danger",htmlFor:"printer_model"},"*Model Imprimanta"),r.a.createElement("input",{type:"text",className:"validatefield2 form-control",id:"printer_model",placeholder:"Model Imprimanta"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{id:"validatefieldmsg3",className:"text-medium text-danger",htmlFor:"printer_sn"},"*Serie Imprimanta"),r.a.createElement("input",{type:"text",className:"validatefield3 form-control",id:"printer_sn",placeholder:"Serie Imprimanta"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{id:"validatefieldmsg4",className:"text-medium text-danger"},"*De ce magazin apartine?"),r.a.createElement("br",null),r.a.createElement(n.storeModal,null)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{id:"validatefieldmsg5",className:"text-medium text-danger"},'*Status Imprimanta (eg: "Noua In Depozit" pt prima data)'),r.a.createElement(n.stareImprimanta,null)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-medium text-info",htmlFor:"printer_list_price"},"Pret de Magazin"),r.a.createElement("input",{onChange:a.handleChange,type:"text",className:"form-control",id:"printer_list_price",placeholder:"Pret de Magazin"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-medium text-info",htmlFor:"printer_installed_date"},"Data Instalarii"),r.a.createElement(n.datepicker,null)),r.a.createElement("button",{onSubmit:a.handleSubmit,id:"submitBtnRecord",className:"btn btn-primary"},"+ Salveaza Imprimanta")):"Record Updated"===a.state.result?r.a.createElement("div",{className:"alert alert-success"},r.a.createElement("strong",null,"Magazin Introdus cu Succes"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:a.handleBackButton,className:"btn btn-primary"},r.a.createElement("span",{className:"glyphicon glyphicon-ok"})," Inapoi")):r.a.createElement("div",{className:"alert alert-danger"},"Imprimanta deja existenta in sistem, sau conexiune cu baza de date indexistenta!!",r.a.createElement("strong",null," Contactati IT"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:a.handleBackButton,className:"btn btn-primary"},r.a.createElement("span",{className:"glyphicon glyphicon-arrow-left"})," Margeti Inapoi"))},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getOptionsList()}},{key:"componentWillMount",value:function(){var e=this;""===sessionStorage.getItem("user_name")&&""===sessionStorage.getItem("token")&&this.props.history.push("/"),"admin"!==sessionStorage.getItem("role")&&this.props.history.push("/");var t=Object.assign({},{payload:"NONE"},{type:"Listare_Magazine"});if(0===this.state.storelist.length){var a=window.origin;_.a.post(a+"/api/Listare",t).then(function(t){try{var a=JSON.parse(t.data),n=a.response,r=a.store_location;"StoreLocationSugestion"===n&&e.setState(Object(N.a)({},e.state,{storelist:Object(x.a)(r)}))}catch(s){console.error(s),C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),C()("#submitBtnRecord").addClass("bg-red")}});var n=new Date;this.setState(Object(N.a)({},this.state,{date:n}))}}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 "},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("br",null),r.a.createElement("div",{className:"col-centered"},r.a.createElement("h1",null,"Introducere Imprimanta Noua"),r.a.createElement("div",{className:"form-width-large"},r.a.createElement(this.loginComponent,null))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))),this.state.modal_state&&r.a.createElement(j,{Title:this.state.modal_title,Body:this.state.modal_body,resetState:this.resetState}))}}]),t}(n.Component),R=(a(75),function(e){function t(){var e,a,n=this;Object(s.a)(this,t);for(var i=arguments.length,c=new Array(i),m=0;m<i;m++)c[m]=arguments[m];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={user_name:"",user_password:"",user_role:"",result:"",validateCount:3,modal_state:"",modal_title:"",modal_body:""},a.resetState=function(){a.setState(Object(N.a)({},a.state,{modal_state:"",modal_title:"",modal_body:""}))},a.formValidator=function(){for(var e="",t=!0,n=1;n<=a.state.validateCount;n++)if(C()(".validatefield"+n).is("select")){var r=C()(".validatefield"+n+" option[disabled]:selected").val();if(C()(".validatefield"+n).find(":selected").val()===r)e+="<p> "+(C()("#validatefieldmsg"+n).text()+" este Obligatoriu!!!")+" </p>",t=!1}else{if(""===C()(".validatefield"+n).val())e+="<p> "+(C()("#validatefieldmsg"+n).text()+" este Obligatoriu!!!")+" </p>",t=!1}return t||a.setState(Object(N.a)({},a.state,{modal_state:"yes",modal_title:"Informatii Incorecte!!!",modal_body:e})),t},a.handleSubmit=function(e){if(e.preventDefault(),a.formValidator()){document.getElementById("user_name").value="",document.getElementById("user_password").value="",document.getElementById("user_role").value="";var t=Object.assign({},{payload:a.state},{type:"NEW_USER"}),n=Object(O.a)(Object(O.a)(a)),r=window.origin;_.a.post(r+"/api/Updates",t).then(function(t){try{var r=JSON.parse(t.data).response;if(""===r){n.setState(Object(N.a)({},a.state,{result:"Record Already Exists"}))}if("1"===r){n.setState(Object(N.a)({},a.state,{result:"Record Updated"}))}}catch(e){C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),C()("#submitBtnRecord").addClass("bg-red")}})}},a.handleBackButton=function(e){var t=Object.assign({},{user_name:"",user_password:"",user_role:"",result:""});a.setState(t)},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.id,e.target.value))},a.userRole=function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row input-field"},r.a.createElement("select",{onChange:a.handleChange,id:"user_role",defaultValue:"Selecteaza o optiune",className:"validatefield3 browser-default"},r.a.createElement("option",{disabled:!0},"Selecteaza o optiune"),r.a.createElement("option",{value:"admin"},"Admin"),r.a.createElement("option",{value:"raport"},"Vizualizare Rapoarte"),r.a.createElement("option",{value:"store"},"Sesizare Problema Imprimanta(Pentru Magazine)"),r.a.createElement("option",{value:"storeraport"},"Rapoarte + Sesizare Probleme"))))},a.userComponent=function(){return""===a.state.result?r.a.createElement("form",{onSubmit:a.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{id:"validatefieldmsg1",className:"text-info text-medium",htmlFor:"user_name"},"*Nume User"),r.a.createElement("input",{onChange:a.handleChange,type:"text",className:"validatefield1 form-control",id:"user_name",placeholder:"Nume Magazin"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{id:"validatefieldmsg2",className:"text-info text-medium",htmlFor:"user_password"},"*Parola User"),r.a.createElement("input",{onChange:a.handleChange,type:"password",className:"validatefield2 form-control",id:"user_password",placeholder:"Nume Magazin"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{id:"validatefieldmsg3",className:"text-info text-medium",htmlFor:"user_role"},"*Role User"),r.a.createElement(n.userRole,null)),r.a.createElement("button",{onSubmit:a.handleSubmit,id:"submitBtnRecord",className:"btn btn-primary"},"+ Salveaza Magazin")):"Record Updated"===a.state.result?r.a.createElement("div",{className:"alert alert-success"},r.a.createElement("strong",null,"User Introdus cu Succes"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:a.handleBackButton,className:"btn btn-primary"},r.a.createElement("span",{className:"glyphicon glyphicon-ok"})," Inapoi")):r.a.createElement("div",{className:"alert alert-danger"},"Userul deja exista",r.a.createElement("strong",null," Poate Doriti sa il updatati!!! Atunci sunteti in meniul gresit"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:a.handleBackButton,className:"btn btn-primary"},r.a.createElement("span",{className:"glyphicon glyphicon-arrow-left"})," Margeti Inapoi"))},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){""===sessionStorage.getItem("user_name")&&""===sessionStorage.getItem("token")&&this.props.history.push("/"),"admin"!==sessionStorage.getItem("role")&&this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 "},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("br",null),r.a.createElement("div",{className:"col-centered"},r.a.createElement("h1",null,"Introducere User Nou"),r.a.createElement("div",{className:"form-width-medium"},r.a.createElement(this.userComponent,null))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))),this.state.modal_state&&r.a.createElement(j,{Title:this.state.modal_title,Body:this.state.modal_body,resetState:this.resetState}))}}]),t}(n.Component)),B=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={type:"General_Listing",viewTableFildsList:["Brand","Model","Serie","Locatie","Status","Pret Lista","Data Instalarii"],sqlTableFildsList:["printer_brand","printer_model","printer_sn","store_name","printer_status","printer_list_price","printer_installed_date"],sqlcommand:"select p.printer_brand printer_brand,p.printer_model printer_model,p.printer_sn printer_sn,s.store_name store_name,p.printer_status printer_status,p.printer_list_price printer_list_price,p.printer_installed_date printer_installed_date from printers p, store_info s where p.store_id = s.store_id",storelist:[],componentTitle:"Listare/Stergere Imprimante",table_name:"printers",deleteListIndexBy:"printer_sn",response:""},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){""===sessionStorage.getItem("user_name")&&""===sessionStorage.getItem("token")&&this.props.history.push("/"),"admin"!==sessionStorage.getItem("role")&&this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T,{state:this.state}))}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={type:"General_Listing",viewTableFildsList:["Nume Utilizator","Role Utilizator","Data Ultima Logare"],sqlTableFildsList:["user_name","user_role","user_last_login"],sqlcommand:"select user_name, user_role,user_last_login from printer_users ORDER BY user_name ASC",storelist:[],componentTitle:"Listare/Stergere Useri",table_name:"printer_users",deleteListIndexBy:"user_name",response:""},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){""===sessionStorage.getItem("user_name")&&""===sessionStorage.getItem("token")&&this.props.history.push("/"),"admin"!==sessionStorage.getItem("role")&&this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T,{state:this.state}))}}]),t}(n.Component),U=function(e){return r.a.createElement("tr",{id:"tdParent"+e.index,className:"SuggestionBoxParent"},e.sqlTableFildsList.map(function(t,a){return e.editableFields.find(function(t){return t===e.sqlTableFildsList[a]})?"user_password"===e.sqlTableFildsList[a]?r.a.createElement("td",{key:a},r.a.createElement("input",{onBlur:e.handleBlur,onFocus:e.handleFocus,onChange:e.handleTypeChange,type:"password",className:"form-control smallText cursor",id:e.sqlTableFildsList[a]+e.index,placeholder:"Apasa pentru a schimba parola"})):r.a.createElement("td",{key:a},r.a.createElement("input",{onBlur:e.handleBlur,onFocus:e.handleFocus,onChange:e.handleTypeChange,type:"text",className:"form-control smallText",id:e.sqlTableFildsList[a]+e.index,placeholder:e.item[t]}),r.a.createElement("div",{id:"SuggestionBox"+e.index,className:"SuggestionBox hidden cursor"})):r.a.createElement("td",{id:e.index,className:e.sqlTableFildsList[a]+e.index+" cursor",key:a},e.item[t])}))},D=(a(76),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={type:"",viewTableFildsList:[],sqlTableFildsList:[],editableFields:[],sqlcommand:"",storelist:[],storelistMap:[],toDeleteList:[],table_name:"",deleteListIndexBy:"",response:"",changedInfo:[]},a.jsonTable=[],a.suggestionInfoToGetFromTable=[],a.suggestionInfoUserUpdate=["admin","raport","store","storeraport"],a.suggestionInfoUpdateImprimante={store_location:[],printer_status:[]},a.sqlCommandToUpdateRecords=[],a.sqlCommandToUpdateHistory=[],a.getOptionsList=function(){var e=Object.assign({},{type:"Listare_Optiuni_Imprimanta"}),t=window.origin;_.a.post(t+"/api/Listare",e).then(function(e){try{if("ListaOptiuniImprimanta"===JSON.parse(e.data).response){C()("#submitBtnRecord").text("Inregistraza Modificari"),C()("#submitBtnRecord").removeClass("disabled"),C()("#submitBtnRecord").removeClass("bg-red");var t=JSON.parse(e.data).optiuniImprimanta;a.suggestionInfoUpdateImprimante=Object.assign({},Object(N.a)({},a.suggestionInfoUpdateImprimante),{printer_status:t.map(function(e){return e.option_name})}),a.setState(Object(N.a)({},a.state))}}catch(n){C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),C()("#submitBtnRecord").addClass("bg-red")}})},a.UpdateSqlRecords=function(){var e=window.origin;_.a.post(e+"/api/Updates",a.sqlCommandToUpdateRecords[0]).then(function(e){try{var t=JSON.parse(e.data).response;""===t&&C()("#tdParent"+a.sqlCommandToUpdateRecords[0].rowAffected).after("<span class='infoFail'>Inregistrare Nereusita</span>"),"1"===t&&C()("#tdParent"+a.sqlCommandToUpdateRecords[0].rowAffected).after("<span class='infoSuccess'>Inregistrare Reusita</span>"),a.sqlCommandToUpdateRecords=a.sqlCommandToUpdateRecords.filter(function(e){return e!==a.sqlCommandToUpdateRecords[0]}),"undefined"!==typeof a.sqlCommandToUpdateRecords[0]?a.UpdateSqlRecords(a.sqlCommandToUpdateRecords[0]):"undefined"!==typeof a.sqlCommandToUpdateHistory.storeChanges[0]?setTimeout(function(){a.updateHistory()},800):(C()("#submitBtnRecord").text("Inregistraza Modificari"),C()("#submitBtnRecord").removeClass("disabled"),C()("#submitBtnRecord").removeClass("bg-red"),setTimeout(function(){a.getTableRequestedData(a.state),a.resetFieldsInfo()},8e3))}catch(n){C()("#submitBtnRecord").addClass("bg-red"),C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),setTimeout(function(){a.getTableRequestedData(a.state),a.resetFieldsInfo()},8e3)}})},a.updateHistory=function(){if("undefined"!==typeof a.sqlCommandToUpdateHistory.storeChanges[0]){var e=window.origin;_.a.post(e+"/api/Updates",Object.assign({},{storeChanges:[a.sqlCommandToUpdateHistory.storeChanges[0]]},{type:"STORE_USER_STATUS_CHANGE"})).then(function(e){try{JSON.parse(e.data).response;a.sqlCommandToUpdateHistory=Object.assign({},{storeChanges:a.sqlCommandToUpdateHistory.storeChanges.filter(function(e){return e!==a.sqlCommandToUpdateHistory.storeChanges[0]})}),"undefined"!==typeof a.sqlCommandToUpdateHistory.storeChanges[0]?a.updateHistory():(C()("#submitBtnRecord").text("Inregistraza Modificari"),C()("#submitBtnRecord").removeClass("disabled"),C()("#submitBtnRecord").removeClass("bg-red"),setTimeout(function(){a.getTableRequestedData(a.state),a.resetFieldsInfo()},8e3))}catch(t){}}).catch(function(e){})}},a.getSuggestionInfo=function(e){var t=window.origin;_.a.post(t+"/api/Listare",e).then(function(e){try{if("StoreLocationSugestion"===JSON.parse(e.data).response){var t=JSON.parse(e.data).store_location,n=t.map(function(e){return e.store_name});a.suggestionInfoUpdateImprimante=Object.assign({},Object(N.a)({},a.suggestionInfoUpdateImprimante),{store_location:Object(x.a)(n)},{storelistMap:Object(x.a)(t)}),a.suggestionInfoToGetFromTable=Object.assign({},{store_location:Object(x.a)(n)})}}catch(r){C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),C()("#submitBtnRecord").addClass("bg-red")}})},a.getTableRequestedData=function(e){var t=window.origin;_.a.post(t+"/api/Listare",e).then(function(t){try{var n=JSON.parse(t.data).response;if("NoItemsInTheList"===n&&C()("#EmptySpan").removeClass("hidden"),"ok"===n){C()("#EmptySpan").addClass("hidden");var r=JSON.parse(t.data).storelist,s=Object.assign({},Object(N.a)({},e),{storelist:Object(x.a)(r)});"store_info"===e.table_name&&(a.suggestionInfoToGetFromTable=Object.assign({},{store_location:s.storelist.map(function(e){return e.store_location})}),a.suggestionInfoUpdateImprimante=Object.assign({},Object(N.a)({},a.suggestionInfoUpdateImprimante),{store_location:s.storelist.map(function(e){return e.store_location})})),"printers"===e.table_name&&a.getSuggestionInfo(Object.assign({},{type:"Listare_Magazine"})),a.getOptionsList(),a.setState(s)}}catch(i){C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),C()("#submitBtnRecord").addClass("bg-red")}})},a.postTableRequestedData=function(e){var t=window.origin;_.a.post(t+"/api/Delete",e).then(function(e){var t=JSON.parse(e.data).response;if("ok"===t){var n=Object.assign({},Object(N.a)({},a.state),{response:t});a.setState(n),a.getTableRequestedData()}})},a.resetFieldsInfoBtn=function(e){a.resetFieldsInfo()},a.handleSubmit=function(e){e.preventDefault();for(var t=!0,n=0;n<a.state.editableFields.length;n++)for(var r=function(e){var r=a.state.editableFields[n]+""+e,s=C()("#"+r).val();if("undefined"!==typeof s&&""!==s){var i=C()("#"+r).attr("placeholder");if(r.includes("store_name")||r.includes("store_location")){var l=a.suggestionInfoUpdateImprimante.store_location.find(function(e){return e===s});if("undefined"===typeof l){C()("#"+r).css("background-color","rgba(170, 57, 57, 0.726)");var o="#SuggestionBox"+e;C()(o).removeClass("hidden"),C()(o).html("<span class='errorMsgSuggestionBox'>Erroare!! Locatie Inexistenta!!! Introduceti locatie noua sau introduceti una corecta</div>"),t=!1}else if(i.trim().toUpperCase()===l.toUpperCase()){C()("#"+r).css("background-color","rgba(170, 57, 57, 0.726)");var c="#SuggestionBox"+e;C()(c).removeClass("hidden"),C()(c).html("<span class='errorMsgSuggestionBox'>Erroare!! Ati introdus Acceasi Locatie deja existenta!!!</div>"),t=!1}}else if(r.includes("printer_status")){var m=a.suggestionInfoUpdateImprimante.printer_status.find(function(e){return e===s});if("undefined"===typeof m){C()("#"+r).css("background-color","rgba(170, 57, 57, 0.726)");var d="#SuggestionBox"+e;C()(d).removeClass("hidden"),C()(d).html("<div class='errorMsgSuggestionBox'>Erroare!! Status inexistent doar statusurile de mai jos sunt admise: "+a.suggestionInfoUpdateImprimante.printer_status+"</div>"),t=!1}else if(i.trim().toUpperCase()===m.toUpperCase()){C()("#"+r).css("background-color","rgba(170, 57, 57, 0.726)");var u="#SuggestionBox"+e;C()(u).removeClass("hidden"),C()(u).html("<span class='errorMsgSuggestionBox'>Erroare!! Ati introdus acelasi status deja existent!!!</div>"),t=!1}}else if(r.includes("printer_list_price"))if(parseInt(s,10)){if(i.trim()===s){C()("#"+r).css("background-color","rgba(170, 57, 57, 0.726)");var p="#SuggestionBox"+e;C()(p).removeClass("hidden"),C()(p).html("<span class='errorMsgSuggestionBox'>Erroare!! Ati introdus acelasi deja existent!!!</div>"),t=!1}}else{C()("#"+r).css("background-color","rgba(170, 57, 57, 0.726)");var b="#SuggestionBox"+e;C()(b).removeClass("hidden"),C()(b).html("<div class='errorMsgSuggestionBox'>Erroare!! DoarNumere sunt admise!! </div>"),t=!1}else if(r.includes("printer_installed_date")){if("Invalid Date"===new Date(s).toString()){C()("#"+r).css("background-color","rgba(170, 57, 57, 0.726)");var g="#SuggestionBox"+e;C()(g).removeClass("hidden"),C()(g).html("<div class='errorMsgSuggestionBox'>Erroare!! Data Invalida YYYY-MM-DD</div>"),t=!1}else if(i.trim()===s){C()("#"+r).css("background-color","rgba(170, 57, 57, 0.726)");var h="#SuggestionBox"+e;C()(h).removeClass("hidden"),C()(h).html("<span class='errorMsgSuggestionBox'>Erroare!! Ati introdus Acceasi data deja existenta!!!</div>"),t=!1}}else if(r.includes("user_role")){var f=a.suggestionInfoUserUpdate.find(function(e){return e===s});if("undefined"===typeof f){C()("#"+r).css("background-color","rgba(170, 57, 57, 0.726)");var v="#SuggestionBox"+e;C()(v).removeClass("hidden"),C()(v).html("<div class='errorMsgSuggestionBox'>Erroare!! Role Negasit in system!! Utizizati role din lista de mai jos:"+a.suggestionInfoUserUpdate+"</div>"),t=!1}else if(i.trim().toUpperCase()===f.toUpperCase()){C()("#"+r).css("background-color","rgba(170, 57, 57, 0.726)");var _="#SuggestionBox"+e;C()(_).removeClass("hidden"),C()(_).html("<span class='errorMsgSuggestionBox'>Erroare!! Ati introdus role deja existent!!!</div>"),t=!1}}}},s=0;s<a.state.storelist.length;s++)r(s);if(t){for(var i=[],l="",o="",c="",m="",d="",u="",p=!1,b=function(e){var t="",n="";d="",u="",c="",m="";for(var r=function(r){var s=C()("#"+a.state.editableFields[r]+e).val(),i=s;if(""!==s.trim()){var l="";"printer_status"===a.state.editableFields[r]&&(p=!0,u=i,d=C()("#"+a.state.editableFields[r]+e).attr("placeholder"),n+='"'.concat(a.state.editableFields[r],'":"').concat(s,'",'),""===C()("#store_name"+e).val()&&(i=(i=a.suggestionInfoUpdateImprimante.storelistMap.filter(function(t){return t.store_name===C()("#store_name"+e).attr("placeholder")}))[0].store_id,n+='"store_name":"'.concat(i,'",'))),"store_name"===a.state.editableFields[r]?(p=!0,c=s,m=C()("#"+a.state.editableFields[r]+e).attr("placeholder"),l="store_id",s=a.suggestionInfoUpdateImprimante.storelistMap.filter(function(e){return e.store_name===s}),i=a.suggestionInfoUpdateImprimante.storelistMap.filter(function(e){return e.store_name===i}),s=s[0].store_id,i=i[0].store_id,t+='"'.concat(l,'":"').concat(s,'",'),n+='"store_name":"'.concat(i,'",')):l=a.state.editableFields[r],t+='"store_name":"'.concat(s,'",'),o+=l+"='"+s+"',"}},s=0;s<a.state.editableFields.length;s++)r(s);if(t.length>1){if(p){p=!1;var b='{"'.concat(a.state.deleteListIndexBy,'":"').concat(C()("#"+e).text(),'",');t=t.substring(0,t.length-1),n=n.substring(0,n.length-1),l+=b+n,""===u.trim()?l+=',"changed_by":"'+sessionStorage.getItem("user_name")+'","printers_history_notes":"Imprimanta trimisa de la Locatie: <'+m+"> la Locatie: <"+c+'>"},':""===c.trim()?l+=',"changed_by":"'+sessionStorage.getItem("user_name")+'","printers_history_notes":"Status Updatat de la: <'+d+"> la: <"+u+'>"},':""!==u.trim()&&""!==c.trim()&&(l+=',"changed_by":"'+sessionStorage.getItem("user_name")+'","printers_history_notes":"Imprimanta a fost trimisa de la: <'+m+"> La: <"+c+"> si statusul modificat de La: <"+d+"> La: <"+u+'>"},')}o=o.substring(0,o.length-1),i=[].concat(Object(x.a)(i),[e]),o+=" where "+a.state.deleteListIndexBy+"='"+C()("#"+e).text()+"'$"}},g=0;g<a.state.storelist.length;g++)b(g);if(o=o.substring(0,o.length-1),l.length>5){l='{"storeChanges":'+(l="["+l.substring(0,l.length-1)+"]")+',"type":"STORE_USER_STATUS_CHANGE"}';var h=JSON.parse(l);a.sqlCommandToUpdateHistory=Object.assign({},h)}var f=o.trim().split("$").map(function(e,t){var n=("UPDATE "+a.state.table_name+" SET "+e).toString();return Object.assign({},{sqlCommand:n,rowAffected:i[t],type:"UPDATE_GENERAL"})});a.sqlCommandToUpdateRecords=Object(x.a)(f),C()("#submitBtnRecord").addClass("disabled"),a.UpdateSqlRecords(),a.sendTrimisaLaMagazinEmail(JSON.parse(l))}},a.emailTemplate=function(e){var t=e.changed_by,a=e.store_name,n=e.printer_brand,r=e.printer_model;return'\n        <html>\n        <head>\n        <title>Sezizare Noua</title>\n        </head>\n        <body>\n        <br/><br/>\n        &nbsp;&nbsp;&nbsp;<h3>Imprimanta Trimisa.</h3>\n        <br/><br/>\n        <table width="auto" border="0" cellspacing="3" cellpadding="6" style="border:1px solid #ccc;">\n           <tr ><th>Creat De</th>\n           <td style="border-bottom:1px solid #ccc;">'.concat(t,'</td>\n           </tr>\n           <tr ><th>Nume Magazin</th>\n           <td style="border-bottom:1px solid #ccc;">').concat(a,'</td>\n           </tr>\n           <tr><th>Printer Brand</th>\n           <td style="border-bottom:1px solid #ccc;">').concat(n,'</td>\n           </tr>\n           <tr><th>Printer Model</th>\n           <td style="border-bottom:1px solid #ccc;">').concat(r,"</td>\n           </tr>\n           <tr><th>Notite</th>\n           <td>Imprimanta in curs de trimitere</td>\n           </tr>           \n            </table>\n            <br/> <br/>\n\n            Cu respect,<br/>&nbsp;&nbsp;&nbsp;&nbsp;Echipa Imprimante Unicarm\n            </body>\n            </html>\n        ")},a.sendEmail=function(e){var t=window.origin;_.a.post(t+"/api/SendMail",e).then(function(e){})},a.handleFocus=function(e){C()("#"+e.target.id).val(""),C()("#"+e.target.id).css("background-color","white");var t=""+e.target.id,a="#SuggestionBox"+t.substring(t.length-1,t.length);C()(a).addClass("hidden"),C()(a).html("")},a.handleBlur=function(e){var t=""+e.target.id,a=t.substring(t.length-1,t.length),n="#"+e.target.id+"+#SuggestionBox"+a,r=C()(n).text();r.length>1&&!r.trim().includes("Erroare")&&(e.target.value=r),C()(n).addClass("hidden")},a.handleTypeChange=function(e){if("store_info"===a.state.table_name){var t=""+e.target.id,n="#SuggestionBox"+t.substring(t.length-1,t.length),r=e.target.value;if(C()(n).html(""),e.target.value.length>=1){var s=a.suggestionInfoToGetFromTable.store_location.filter(function(e,t){return e.toString().toUpperCase().startsWith(r.toUpperCase())}).map(function(e){return"<p class='handleChangeSuggestion'>"+e+"</p>"});"undefined"!==typeof s[0]?s[0].length>2&&(C()(n).removeClass("hidden"),C()(n).html(s[0])):(C()(n).html(""),C()(n).addClass("hidden"))}else C()(n).addClass("hidden")}else if("printer_users"===a.state.table_name){if(e.target.id.toString().startsWith("user_role")){var i=""+e.target.id,l="#SuggestionBox"+i.substring(i.length-1,i.length),o=e.target.value;if(C()(l).html(""),e.target.value.length>=1){var c=a.suggestionInfoUserUpdate.filter(function(e,t){return e.toString().toUpperCase().startsWith(o.toUpperCase())}).map(function(e){return"<p class='handleChangeSuggestion'>"+e+"</p>"});"undefined"!==typeof c[0]?c[0].length>2&&(C()(l).removeClass("hidden"),C()(l).html(c[0])):(C()(l).html(""),C()(l).addClass("hidden"))}else C()(l).addClass("hidden")}}else if("printers"===a.state.table_name)if(e.target.id.toString().startsWith("printer_status")){var m=""+e.target.id,d=m.substring(m.length-1,m.length),u="#printer_status"+d+"+#SuggestionBox"+d,p=e.target.value;if(C()(u).html(""),e.target.value.length>=1){var b=a.suggestionInfoUpdateImprimante.printer_status.filter(function(e,t){return e.toString().toUpperCase().startsWith(p.toUpperCase())}).map(function(e){return"<p class='handleChangeSuggestion'>"+e+"</p>"});"undefined"!==typeof b[0]?b[0].length>2&&(C()(u).removeClass("hidden"),C()(u).html(b[0])):(C()(u).html(""),C()(u).addClass("hidden"))}else C()(u).addClass("hidden")}else if(e.target.id.toString().startsWith("store_name")){var g=""+e.target.id,h="#SuggestionBox"+g.substring(g.length-1,g.length),f=e.target.value;if(C()(h).html(""),e.target.value.length>=1){var v=a.suggestionInfoUpdateImprimante.store_location.filter(function(e,t){return e.toString().toUpperCase().startsWith(f.toUpperCase())}).map(function(e){return"<p class='handleChangeSuggestion'>"+e+"</p>"});"undefined"!==typeof v[0]?v[0].length>2&&(C()(h).removeClass("hidden"),C()(h).html(v[0])):(C()(h).html(""),C()(h).addClass("hidden"))}else C()(h).addClass("hidden")}},a.returnTableHeader=a.props.state.viewTableFildsList.map(function(e,t){return r.a.createElement("th",{id:a.props.state.sqlTableFildsList[t],key:t},e)}),a.handleClickChange=function(e){},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object.assign({},Object(N.a)({},this.state,e.state))),this.getTableRequestedData(Object.assign({},Object(N.a)({},this.state,e.state)))}},{key:"componentWillMount",value:function(){this.getTableRequestedData(this.props.state)}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUpdate",value:function(){C()("span").remove(".infoSuccess"),C()("span").remove(".infoFail")}},{key:"resetFieldsInfo",value:function(){for(var e=0;e<this.state.editableFields.length;e++)for(var t=0;t<this.state.storelist.length;t++){var a=this.state.editableFields[e]+""+t;C()("#"+a).val("")}C()(".SuggestionBox").html("")}},{key:"sendTrimisaLaMagazinEmail",value:function(e){var t=this,a=e.storeChanges,n=[];a.forEach(function(e){"Trimisa la Magazin"===e.printer_status&&n.push({changed_by:e.changed_by,printer_brand:t.state.storelist.find(function(t){return t.printer_sn===e.printer_sn}).printer_brand,printer_model:t.state.storelist.find(function(t){return t.printer_sn===e.printer_sn}).printer_model,store_name:t.suggestionInfoUpdateImprimante.storelistMap.find(function(t){return t.store_id===e.store_name}).store_name})}),0!==n.length&&n.forEach(function(e){var a={emailMsg:t.emailTemplate(e),emailSubject:"Imprimtanta in curs de trimitere catre - "+e.store_name,emailToAddress:"it@unicarm.ro,"+e.store_name+"@unicarm.ro",type:"SesizareNouaEmail",store_name:e.store_name};t.sendEmail(a)})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid fadeincontainer"},r.a.createElement("div",{className:"row fadein"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("table",{className:"table table-bordered table-striped table-responsive table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,0!==this.state.viewTableFildsList.length&&this.state.viewTableFildsList.map(function(t,a){return r.a.createElement("th",{id:e.state.sqlTableFildsList[a],key:a},t)}))),r.a.createElement("tbody",null,0!==this.state.storelist.length&&this.state.storelist.map(function(t,a){return r.a.createElement(U,{key:a,handleFocus:e.handleFocus,handleBlur:e.handleBlur,handleTypeChange:e.handleTypeChange,editableFields:e.state.editableFields,sqlTableFildsList:e.state.sqlTableFildsList,index:a,item:t})}),r.a.createElement("tr",null,r.a.createElement("td",{id:"EmptySpan",className:"info",colSpan:this.state.viewTableFildsList.length},"Empty")))),r.a.createElement("br",null),r.a.createElement("button",{onSubmit:this.handleSubmit,id:"submitBtnRecord",className:"btn"},"Inregistraza Modificari"),"\xa0\xa0 ",r.a.createElement("span",{onClick:this.resetFieldsInfoBtn,className:"btn btn-danger btn-bg-reg"},"Reseteaza Campuri"),r.a.createElement("br",null),r.a.createElement("br",null))))}}]),t}(n.Component)),M=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={type:"General_Listing",viewTableFildsList:["Nume Utilizator","Role Utilizator","Parola","Data Ultima Logare"],sqlTableFildsList:["user_name","user_role","user_password","user_last_login"],editableFields:["user_role","user_password"],sqlcommand:"select user_name,user_role,user_password, user_last_login from printer_users ORDER BY user_name ASC",storelist:[],table_name:"printer_users",deleteListIndexBy:"user_name",response:"",selected_function:"true",suggestionInfoToGetFromTable:""},a.handleChangeSelect=function(e){var t=C()(e.target).val();"Update Magazin"===t&&a.setState(Object(N.a)({},a.state,{type:"General_Listing",viewTableFildsList:["Name Magazin","Locatie Magazin"],sqlTableFildsList:["store_name","store_location"],editableFields:["store_location"],sqlcommand:"select store_name, store_location from store_info ORDER BY store_name ASC",storelist:[],table_name:"store_info",deleteListIndexBy:"store_name",response:"",selected_function:"true",suggestionInfoToGetFromTable:""})),"Update Useri"===t&&a.setState(Object(N.a)({},a.state,{type:"General_Listing",viewTableFildsList:["Nume Utilizator","Role Utilizator","Parola","Data Ultima Logare"],sqlTableFildsList:["user_name","user_role","user_password","user_last_login"],editableFields:["user_role","user_password"],sqlcommand:"select user_name,user_role,user_password, user_last_login from printer_users ORDER BY user_name ASC",storelist:[],table_name:"printer_users",deleteListIndexBy:"user_name",response:"",selected_function:"true",suggestionInfoToGetFromTable:""})),"Update Imprimante"===t&&a.setState(Object(N.a)({},a.state,{type:"General_Listing",viewTableFildsList:["Serie","Brand","Model","Locatie","Status","Pret Lista","Data Instalarii"],sqlTableFildsList:["printer_sn","printer_brand","printer_model","store_name","printer_status","printer_list_price","printer_installed_date"],editableFields:["store_name","printer_status","printer_list_price","printer_installed_date"],sqlcommand:"select p.printer_brand printer_brand,p.printer_model printer_model,p.printer_sn printer_sn,s.store_name store_name,p.printer_status printer_status,p.printer_list_price printer_list_price,p.printer_installed_date printer_installed_date from printers p, store_info s where p.store_id = s.store_id",storelist:[],table_name:"printers",deleteListIndexBy:"printer_sn",response:"",selected_function:"true",suggestionInfoToGetFromTable:""}))},a.functionSelect=function(){return r.a.createElement("div",{onChange:a.handleChangeSelect.bind(Object(O.a)(Object(O.a)(a))),className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 col-centered margin-top-2rem"},r.a.createElement("div",{className:"input-field "},r.a.createElement("select",{defaultValue:"Update Useri",id:"function_select",className:"validatefield5 browser-default"},r.a.createElement("option",{disabled:!0},"Selecteaza o optiune"),r.a.createElement("option",null,"Update Useri"),r.a.createElement("option",null,"Update Magazin"),r.a.createElement("option",null,"Update Imprimante"))))))},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){""===sessionStorage.getItem("user_name")&&""===sessionStorage.getItem("token")&&this.props.history.push("/"),"admin"!==sessionStorage.getItem("role")&&this.props.history.push("/")}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 col-sm12"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("br",null),r.a.createElement("h3",{className:"col-centered-h"},this.state.componentTitle),r.a.createElement(this.functionSelect,null),r.a.createElement(D,{state:Object.assign({},Object(N.a)({},this.state))}),r.a.createElement("br",null),r.a.createElement("br",null)))))}}]),t}(n.Component),q=function(e){function t(){var e,a,n=this;Object(s.a)(this,t);for(var i=arguments.length,c=new Array(i),m=0;m<i;m++)c[m]=arguments[m];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={storelist:[],logProblemOptions:[],result:"",nuGasescSerie:"false",detaliiImprimanta:{},foundPrinters:[],validateCount:5,modal_state:"",modal_title:"",modal_body:""},a.resetState=function(){a.setState(Object(N.a)({},a.state,{modal_state:"",modal_title:"",modal_body:""}))},a.sendEmail=function(e){var t=window.origin;_.a.post(t+"/api/SendMail",e).then(function(e){})},a.handleSelectPrinterSN=function(e){"active"===a.state.foundPrinters.find(function(t){return t.printer_sn===e.target.value.split("~")[2]}).status_sesizare?(C()("#printer_sn").prop("selected",!1).find("option:first").prop("selected",!0),a.validatorPrinterSN("","Exista deja o sesizare pentru dispozitivul selectat,selectati altul sau pentru mai multe detalii contactati IT","Eroare!!!")):C()("#nuGasescSeriaBtn").addClass("disabled")},a.componentDidUpdate=function(){},a.validatorPrinterSN=function(e,t,n){var r=!0;return""===e.trim()&&(r=!1),r||a.setState(Object(N.a)({},a.state,{modal_state:"yes",modal_title:n,modal_body:t})),r},a.handleBackButton=function(e){C()("#printer_sn").removeClass("disabled"),C()("#nuGasescSeriaBtn").removeClass("disabled");var t=Object.assign({},{nume_magazin:"",locatie_magazin:"",result:"",foundPrinters:[],detaliiImprimanta:{},nuGasescSerie:"false"});a.setState(t)},a.formValidator=function(){},a.printerSnDBSearch=function(e){var t={type:"Listare_Imprimanta_dupa_magazin",store_id:e},n=window.origin;_.a.post(n+"/api/Listare",t).then(function(e){try{var t=JSON.parse(e.data).response;if("imprimanta_negasita"===t){C()("#nuGasescSeriaBtn").removeClass("disabled"),a.validatorPrinterSN("","Nu s-a putut gasii nici o imprimanta in sistem pentru magazinul dumneavoastra apasati pe butonul 'NU GASESC DISPOZITIV' pentru a introduce imprimanta manual","Nici un dispozitiv nu s-a gasit In Sistem!!!");var n=Object.assign({},{nume_magazin:"",locatie_magazin:"",result:"",foundPrinters:[],detaliiImprimanta:{},nuGasescSerie:"false"});a.setState(n)}if("detaliiImprimanta"===t){C()("#nuGasescSeriaBtn").removeClass("disabled"),a.setState({nuGasescSerie:"false"});var r=JSON.parse(e.data).detaliiImprimanta;a.setState(Object(N.a)({},a.state,{foundPrinters:r}))}}catch(s){C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),C()("#submitBtnRecord").addClass("bg-red")}})},a.handleStoreChange=function(e){var t=a.state.storelist.find(function(t){return t.store_name===e.target.value});C()("#printer_sn").prop("selected",!1).find("option:first").prop("selected",!0),a.printerSnDBSearch(t.store_id)},a.handleClick=function(e){"cautaDetaliiImprimanta"===e.target.id&&null===C()("#printer_sn").val()&&a.validatorPrinterSN("","Selectati Seria Dispozitivului Dumneavoastra sau apasati 'NU GASESC DISPOZITIV' daca nu o gaseste sistemul'","Informatii Incorecte!!!"),"nuGasescSeriaBtn"===e.target.id&&"undefined"===typeof a.state.detaliiImprimanta.printer_id&&(C()("#printer_sn").addClass("disabled"),C()("#nuGasescSeriaBtn").addClass("disabled"),a.setState(Object(N.a)({},a.state,{nuGasescSerie:"true"})),C()("#cautaDetaliiImprimanta").addClass("disabled"))},a.isEmpty=function(e){return null===e||"undefined"===typeof e||""===e},a.formValidator=function(){for(var e="",t=!0,n=1;n<=a.state.validateCount;n++){if("undefined"!==typeof C()(".validatefield"+n).val())if(null!==a.isEmpty(C()(".validatefield"+n).val()))if(a.isEmpty(C()(".validatefield"+n).val()))if(!C()(".validatefield"+n).hasClass("disabled"))e+="<p> "+(C()("#validatefieldmsg"+n).text()+" este Obligatoriu!!!")+" </p>",t=!1}return t&&!C()("#printer_sn").hasClass("disabled")&&a.setState(Object(N.a)({},a.state,{modal_state:"yes",modal_title:"Eroare!!!",modal_body:"Seria Dispozitivului Trebuie validata mai intai!!! Introduceti seria si apasati pe 'VALIDARE SERIE'!"})),t||a.setState(Object(N.a)({},a.state,{modal_state:"yes",modal_title:"Informatii Incorecte!!!",modal_body:e})),t},a.introduSesizareNoua=function(){var e,t=a.state.storelist.filter(function(e){return e.store_name===C()("#store_id_name").val()})[0].store_id,n=C()("#problem_options_name").val(),r=C.a.trim(C()("#sesizari_log_problem_description").val());if(C()("#printer_sn").hasClass("disabled")||(e={type:"Adauga_Sesizare_In_Sistem_cu_serie_imprimanta_existenta",store_id:t,printer_id:a.state.foundPrinters.find(function(e){return e.printer_sn===C()("#printer_sn").val().split("~")[2]}).printer_id,sesizari_log_problem:n,sesizari_log_problem_description:r,changed_by:sessionStorage.getItem("user_name")},a.setState(Object(N.a)({},a.state,{detaliiImprimanta:{}}))),C()("#printer_sn").hasClass("disabled")){var s=C()("#printer_brand").val(),i=C()("#printer_model").val(),l=C()("#new_printer_sn").val();""===l&&(l="genericSNstoreid:"+t+":prnmodel:"+i+":mathrand:"+Math.floor(50*Math.random())),e={type:"Adauga_Sesizare_In_Sistem_fara_serie_imprimanta",store_id:t,new_printer_sn:l,printer_brand:s,printer_model:i,sesizari_log_problem:n,sesizari_log_problem_description:r,changed_by:sessionStorage.getItem("user_name")}}var o="",c="";"false"===a.state.nuGasescSerie?(o=a.state.foundPrinters.find(function(t){return t.printer_id===e.printer_id}).printer_brand,c=a.state.foundPrinters.find(function(t){return t.printer_id===e.printer_id}).printer_model):(o=e.printer_brand,c=e.printer_model);var m=a.state.storelist.find(function(t){return t.store_id===e.store_id}).store_name,d='\n        <html>\n        <head>\n        <title>Sezizare Noua</title>\n        </head>\n        <body>\n        <br/><br/>\n        &nbsp;&nbsp;&nbsp;<h3>S-a creat o sezizare noua pentru Imprimanta detaliata mai jos</h3>\n        <br/><br/>\n        <table width="auto" border="0" cellspacing="3" cellpadding="6" style="border:1px solid #ccc;">\n           <tr ><th>Creat De</th>\n           <td style="border-bottom:1px solid #ccc;">'.concat(e.changed_by,'</td>\n           </tr>\n           <tr ><th>Nume Magazin</th>\n           <td style="border-bottom:1px solid #ccc;">').concat(m,'</td>\n           </tr>\n           <tr><th>Printer Brand</th>\n           <td style="border-bottom:1px solid #ccc;">').concat(o,'</td>\n           </tr>\n           <tr><th>Printer Model</th>\n           <td style="border-bottom:1px solid #ccc;">').concat(c,'</td>\n           </tr>\n           <tr><th>Problema</th>\n           <td style="border-bottom:1px solid #ccc;">').concat(e.sesizari_log_problem,"</td>\n           </tr>\n           <tr><th>Descriere</th>\n           <td>").concat(e.sesizari_log_problem_description,"</td>\n           </tr>           \n            </table>\n            <br/> <br/>\n        \n            Cu respect,<br/>&nbsp;&nbsp;&nbsp;&nbsp;Sesizari Imprimante Unicarm\n            </body>\n            </html>\n        "),u=window.origin;_.a.post(u+"/api/Updates",e).then(function(e){try{var t=JSON.parse(e.data).response;if(t.toString().startsWith("InregistrareaExista")&&(a.validatorPrinterSN("","Daca nu gasiti Seria Dispozitivului sau daca sistemul nu o gaseste apasati butonul - NU GASESC DISPOZITIV","Dispozitiv Negasit In Sistem!!!"),C()("#cautaDetaliiImprimanta").removeClass("disabled"),a.setState(Object(N.a)({},a.state,{result:"InregistrareaExista"}))),t.toString().startsWith("Record Updated")){a.setState(Object(N.a)({},a.state,{result:"Record Updated"}));var n={emailMsg:d,emailSubject:"Sesizare Noua - "+m,emailToAddress:"it@unicarm.ro,"+m+"@unicarm.ro",type:"SesizareNouaEmail",store_name:m};a.sendEmail(n)}}catch(r){console.error(r),C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),C()("#submitBtnRecord").addClass("bg-red")}})},a.handleSubmit=function(e){e.preventDefault(),a.formValidator()&&a.introduSesizareNoua()},a.updateStateStoreList=function(){var e=Object.assign({},{payload:"NONE"},{type:"Listare_Magazine"});if(0===a.state.storelist.length){var t=Object(O.a)(Object(O.a)(a)),n=window.origin;_.a.post(n+"/api/Listare",e).then(function(e){try{var n=JSON.parse(e.data),r=n.response,s=n.store_location;"StoreLocationSugestion"===r&&(a.setState(Object(N.a)({},a.state,{storelist:Object(x.a)(s)})),setTimeout(function(){t.updateStateLogProblemOptions()},500))}catch(i){C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),C()("#submitBtnRecord").addClass("bg-red")}});var r=new Date;a.setState(Object(N.a)({},a.state,{date:r}))}},a.componentaNuGasescImprimanta=function(){return r.a.createElement("div",{className:"col-md-12"},r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{id:"validatefieldmsg3",className:"text-medium text-danger",htmlFor:"validatefield3"},"*Brand Imprimanta"),r.a.createElement("input",{type:"text",className:"validatefield3 form-control",id:"printer_brand",placeholder:"Brand Imprimanta"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{id:"validatefieldmsg4",className:"text-medium text-danger",htmlFor:"validatefield4"},"*Model Imprimanta"),r.a.createElement("input",{type:"text",className:"validatefield4 form-control printer_model",id:"printer_model",placeholder:"Model Imprimanta"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-medium text-info",htmlFor:"new_printer_sn"},"*Serie Imprimanta daca o gasiti"),r.a.createElement("input",{defaultValue:C()("#printer_sn").val()&&C()("#printer_sn").val().toString(),type:"text",className:"form-control",id:"new_printer_sn",placeholder:"Serie Imprimanta"})))},a.updateStateLogProblemOptions=function(){var e=Object.assign({},{payload:"NONE"},{type:"Listare_Log_Problem_Options"});if(0===a.state.logProblemOptions.length){var t=window.origin;_.a.post(t+"/api/Listare",e).then(function(e){try{var t=JSON.parse(e.data),n=t.response,r=t.logProblemOptions;"LogProblemOptions"===n&&a.setState(Object(N.a)({},a.state,{logProblemOptions:Object(x.a)(r)}))}catch(s){console.error(s),C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),C()("#submitBtnRecord").addClass("bg-red")}});var n=new Date;a.setState(Object(N.a)({},a.state,{date:n}))}},a.listaMagazine=function(){var e=sessionStorage.getItem("user_name").toUpperCase(),t=a.state.storelist.find(function(t){return t.store_name===e});return"undefined"===typeof t?r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"input-field col s12 m6"},r.a.createElement("select",{onChange:a.handleStoreChange,id:"store_id_name",defaultValue:"Magazine",className:"validatefield1 browser-default"},r.a.createElement("option",{disabled:!0},"Magazine"),a.state.storelist.map(function(e,t){return r.a.createElement("option",{key:t},e.store_name)})))):r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"input-field col s12 m6"},r.a.createElement("select",{onChange:a.handleStoreChange,id:"store_id_name",defaultValue:t.store_name,className:"validatefield1 browser-default"},r.a.createElement("option",null,t.store_name))))},a.listaOptiuniProbleme=function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col-md-8"},r.a.createElement("select",{id:"problem_options_name",defaultValue:"Selectati Problema Dispozitiv",className:"validatefield5 browser-default"},r.a.createElement("option",{disabled:!0},"Selectati Problema Dispozitiv"),a.state.logProblemOptions.map(function(e,t){return r.a.createElement("option",{key:t},e.problem_options_name)})))))},a.sesizareComponent=function(){return""===a.state.result?r.a.createElement("form",{onSubmit:a.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row row-no-gutters"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("label",{id:"validatefieldmsg1",className:"text-info text-medium",htmlFor:"nume_magazin"},"*Alege Locatie Magazin"),r.a.createElement(n.listaMagazine,null))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row row-no-gutters"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("label",{id:"validatefieldmsg2",className:"text-info text-medium",htmlFor:"validatefield2"},"*Introdu Detalii Dispozitiv Defect"))),r.a.createElement("div",{className:"row row-no-gutters"},r.a.createElement("div",{className:"col-md-5 col-sm-12 col-xs-12"},r.a.createElement("select",{onChange:a.handleSelectPrinterSN,className:"browser-default validatefield2",id:"printer_sn",defaultValue:"Dispozitive Gasite"},r.a.createElement("option",{disabled:!0},"Dispozitive Gasite"),a.state.foundPrinters.map(function(e,t){return r.a.createElement("option",{key:t},e.printer_brand+"~"+e.printer_model+"~"+e.printer_sn)}))),r.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12 margin-top-2rem-md margin-bottom-2rem-md"},r.a.createElement("span",{onClick:a.handleClick,id:"nuGasescSeriaBtn",className:"btn btn-primary"},"NU GASESC DISPOZITIV")),"true"===a.state.nuGasescSerie&&r.a.createElement(n.componentaNuGasescImprimanta,null)))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("label",{id:"validatefieldmsg5",className:"text-info text-medium",htmlFor:"locatie_magazin"},"*Alege Problema Imprimanta"),r.a.createElement(n.listaOptiuniProbleme,null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-info text-small padding-bottom",htmlFor:"sesizari_log_problem_description"},"Introduceti mai multe detalii despre problema:"),r.a.createElement("br",null),r.a.createElement("textarea",{className:"form-control",rows:"5",id:"sesizari_log_problem_description"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("button",{onSubmit:a.handleSubmit,id:"submitBtnRecord",className:"btn btn-primary"},"+ Salveaza Sesizare")))))):"Record Updated"===a.state.result?r.a.createElement("div",{className:"alert alert-success"},r.a.createElement("strong",null,"Sesizare Introdusa cu Succes"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:a.handleBackButton,className:"btn btn-primary"},r.a.createElement("span",{className:"glyphicon glyphicon-ok"})," Inapoi")):r.a.createElement("div",{className:"alert alert-danger"},"Magazinul deja exista",r.a.createElement("strong",null," Eroare de sistem!!!Contactati IT"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:a.handleBackButton,className:"btn btn-primary"},r.a.createElement("span",{className:"glyphicon glyphicon-arrow-left"})," Margeti Inapoi"))},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){""===sessionStorage.getItem("user_name")&&""===sessionStorage.getItem("token")&&this.props.history.push("/"),"admin"!==sessionStorage.getItem("role")&&"store"!==sessionStorage.getItem("role")&&"storeraport"!==sessionStorage.getItem("role")&&this.props.history.push("/"),this.updateStateStoreList()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 "},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("br",null),r.a.createElement("div",{className:"col-centered"},r.a.createElement("h1",null,"Introducere Sesizare Noua"),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-offset-2 col-md-10"},r.a.createElement(this.sesizareComponent,null))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))),this.state.modal_state&&r.a.createElement(j,{Title:this.state.modal_title,Body:this.state.modal_body,resetState:this.resetState}))}}]),t}(n.Component),P=(a(77),function(e){function t(){var e,n;Object(s.a)(this,t);for(var i=arguments.length,c=new Array(i),m=0;m<i;m++)c[m]=arguments[m];return(n=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={validateCount:6,modal_state:"",modal_title:"",modal_body:"",serieGenerica:!1,currentSelectedSesizare:{}},n.resetState=function(){n.setState(Object(N.a)({},n.state,{modal_state:"",modal_title:"",modal_body:""}))},n.sendEmail=function(e){var t=window.origin;_.a.post(t+"/api/SendMail",e).then(function(e){})},n.formValidator=function(){""===C()("#repair_counter").val()&&C()("#repair_counter").val(0);for(var e="",t=!0,a=1;a<=n.state.validateCount;a++)if(C()(".validatefield"+a).is("select")){var r=C()(".validatefield"+a+" option[disabled]:selected").val();if(C()(".validatefield"+a).find(":selected").val()===r)e+="<p> "+(C()("#validatefieldmsg"+a).text()+" este Obligatoriu!!!")+" </p>",t=!1}else{if(""===C()(".validatefield"+a).val().trim())e+="<p> "+(C()("#validatefieldmsg"+a).text()+" este Obligatoriu!!!")+" </p>",t=!1}return t||n.setState(Object(N.a)({},n.state,{modal_state:"yes",modal_title:"Informatii Incorecte!!!",modal_body:e})),t},n.validatorPrinterSN=function(e,t,a){var r=!0;return""===e.trim()&&(r=!1),r||n.setState(Object(N.a)({},n.state,{modal_state:"yes",modal_title:a,modal_body:t})),r},n.handleChange=function(e){"repair_cost"===e.target.id&&isNaN(e.target.value)&&(n.validatorPrinterSN("","Doar cifre sunt admise","Eroare!!!"),e.target.value=""),"repair_counter"===e.target.id&&isNaN(e.target.value)&&(n.validatorPrinterSN("","Doar cifre sunt admise","Eroare!!!"),e.target.value="")},n.introducereReparatieInTabele=function(e){var t='\n        <br/><br/>\n        &nbsp;&nbsp;&nbsp;<h3>Imprimanta venita din reparatie</h3>\n        <br/><br/>\n        <table width="auto" border="0" cellspacing="3" cellpadding="6" style="border:1px solid #ccc;">\n           <tr ><th>Creat De</th>\n           <td style="border-bottom:1px solid #ccc;">'.concat(e.changed_by,'</td>\n           </tr>\n           <tr ><th>Nume Magazin</th>\n           <td style="border-bottom:1px solid #ccc;">').concat(n.state.currentSelectedSesizare.store_name," - ").concat(n.state.currentSelectedSesizare.store_location,'</td>\n           </tr>\n           <tr><th>Printer Brand</th>\n           <td style="border-bottom:1px solid #ccc;">').concat(n.state.currentSelectedSesizare.printer_brand,'</td>\n           </tr>\n           <tr><th>Printer Model</th>\n           <td style="border-bottom:1px solid #ccc;">').concat(n.state.currentSelectedSesizare.printer_model,'</td>\n           </tr>\n           <tr><th>Fosta Problema</th>\n           <td style="border-bottom:1px solid #ccc;">').concat(n.state.currentSelectedSesizare.sesizari_log_problem," - ").concat(n.state.currentSelectedSesizare.sesizari_log_problem_description,'</td>\n           </tr>\n           <tr><th>Status Actual</th>\n           <td style="border-bottom:1px solid #ccc;">').concat(e.printer_status,'</td>\n           </tr>   \n           <tr><th>Piese Montate</th>\n           <td style="border-bottom:1px solid #ccc;">').concat(e.repair_parts_fitted,'</td>\n           </tr>  \n           <tr><th>Mai Multe Reparatii despre Reparatie</th>\n           <td style="border-bottom:1px solid #ccc;">').concat(e.repair_info,"</td>\n           </tr>           \n           <tr><th>Cost</th>\n           <td>").concat(e.repair_cost,"</td>\n           </tr>           \n        </table>\n        <br/> <br/>\n        Cu respect,<br/>&nbsp;&nbsp;&nbsp;&nbsp;Sesizari Imprimante Unicarm\n        ");console.log(e);var a=window.origin;_.a.post(a+"/api/Updates",e).then(function(e){try{var a=JSON.parse(e.data).response;if(a.toString().startsWith("Record Problem")&&n.props.setChildEmpty(n.state.currentSelectedSesizare,{updateReparatieResult:"updateNotOK"}),a.toString().startsWith("Record Updated")){n.props.setChildEmpty(n.state.currentSelectedSesizare,{updateReparatieResult:"updateOK"});var r={emailMsg:t,emailSubject:"Reparatie Noua - "+n.state.currentSelectedSesizare.store_name,emailToAddress:"it@unicarm.ro",type:"SesizareNouaEmail"};n.sendEmail(r)}}catch(s){n.props.setChildEmpty(n.state.currentSelectedSesizare,{updateReparatieResult:"updateNotOK"})}})},n.moment=a(78),n.handleSubmitReparatie=function(e){if(e.preventDefault(),n.formValidator()){var t=n.moment().format("YYYY-MM-DD HH-mm-ss"),a=n.state.currentSelectedSesizare,r={repair_parts_fitted:C()("#repair_parts_fitted").val(),repair_counter:""===C()("#repair_counter").val()?0:C()("#repair_counter").val(),repair_info:C()("#repair_info").val(),repair_cost:""===C()("#repair_cost").val()?0:C()("#repair_cost").val(),repair_date:t,printer_status:C()("#printer_status").val(),type:"IntroducereReparatie",sesizari_log_id:a.sesizari_log_id,printer_id:a.printer_id,store_id:a.store_id,printers_history_date:t,changed_by:sessionStorage.getItem("user_name"),printer_sn:"undefined"===typeof C()("#printer_sn").val()?"undefined":C()("#printer_sn").val()};n.introducereReparatieInTabele(r)}},n.handleAlegeStatusImprimanta=function(e){},n.StatusImprimanta=function(){return r.a.createElement("select",{onChange:n.handleAlegeStatusImprimanta,id:"printer_status",defaultValue:"Reparata - In asteptate de utilizator",className:"validatefield6 browser-default"},r.a.createElement("option",{disabled:!0},"Alege Status"),n.state.printer_select_options.map(function(e,t){return r.a.createElement("option",{key:t},e)}))},n.serieImprimanta=function(){return r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("label",{id:"validatefieldmsg7",className:"text-info text-medium",htmlFor:"printer_sn"},"*Serie Imprimanta")),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("input",{onChange:n.handleChange,type:"text",className:"validatefield7 form-control",id:"printer_sn",placeholder:"Imprimanta are serie generica Intoduceti seria reala!!!"}))))},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){this.setState(Object.assign({},Object(N.a)({},this.state),Object(N.a)({},this.props.state)))}},{key:"componentWillReceiveProps",value:function(e){this.setState(Object(N.a)({},e.state))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("table",{className:"table table-responsive table-bordered table-striped table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Sesizarea numarul"),r.a.createElement("th",null,"Data"),r.a.createElement("th",null,"Creata De"),r.a.createElement("th",null,"Magazin"),r.a.createElement("th",null,"Problema Raportata"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.state.currentSelectedSesizare.sesizari_log_id),r.a.createElement("td",null,this.state.currentSelectedSesizare.sesizari_log_date),r.a.createElement("td",null,this.state.currentSelectedSesizare.changed_by),r.a.createElement("td",null,this.state.currentSelectedSesizare.store_name," - ",this.state.currentSelectedSesizare.store_location),r.a.createElement("td",null,this.state.currentSelectedSesizare.sesizari_log_problem+" - "+this.state.currentSelectedSesizare.sesizari_log_problem_description)))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("form",{onSubmit:this.handleSubmitReparatie},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("label",{id:"validatefieldmsg1",className:"text-info text-medium",htmlFor:"repair_parts_fitted"},"*Piese Montate")),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("input",{onChange:this.handleChange,type:"text",className:"validatefield1 form-control",id:"repair_parts_fitted",placeholder:"ex: x role, 1 printhead etc."})))),this.state.serieGenerica&&r.a.createElement(this.serieImprimanta,null),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("label",{id:"validatefieldmsg2",className:"text-info text-medium",htmlFor:"repair_info"},"*Detaliati Reparatia")),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("input",{onChange:this.handleChange,type:"text",className:"validatefield2 form-control",id:"repair_info",placeholder:"ex: Dispozitiv Resetat, curatat, schimbat piese etc. "})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("label",{id:"validatefieldmsg3",className:"text-info text-medium",htmlFor:"repair_cost"},"*Cost Reparatie")),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("input",{onChange:this.handleChange,type:"text",className:"validatefield3 form-control",id:"repair_cost",placeholder:"ex: 0 sau alta suma"})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("label",{id:"validatefieldmsg4",className:"text-info text-medium",htmlFor:"repair_counter"},"*Contor Imprimanta")),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("input",{onChange:this.handleChange,type:"text",className:"validatefield4 form-control",id:"repair_counter",placeholder:"ex: 0 daca nu se stie"})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("label",{id:"validatefieldmsg5",className:"text-info text-medium",htmlFor:"repair_date"},"*Data Reparatiei")),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("input",{onChange:this.handleChange,type:"text",className:"validatefield5 form-control",id:"repair_date",placeholder:"Introduceti o noua data cand a fost reparata imprimanta!!!",value:this.moment().format("YYYY-MM-DD HH-mm-ss")})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("label",{id:"validatefieldmsg6",className:"text-info text-medium",htmlFor:"repair_date"},"*Statusul Actual")),r.a.createElement("div",{className:"col-md-8"},r.a.createElement(this.StatusImprimanta,null)))),r.a.createElement("button",{className:"btn",id:"SubmitBtn",onSubmit:this.handleSubmitReparatie},"+ Introduce Reparatia")))),this.state.modal_state&&r.a.createElement(j,{Title:this.state.modal_title,Body:this.state.modal_body,resetState:this.resetState}))}}]),t}(n.Component)),A=function(e){function t(){var e,a,n=this;Object(s.a)(this,t);for(var i=arguments.length,c=new Array(i),m=0;m<i;m++)c[m]=arguments[m];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={componentTitle:"Introducere Reparatie",listaSesizari:[],hasUserChoosenSesizare:"",printer_select_options:[],updateReparatieResult:""},a.setChildEmpty=function(e,t){var n=a.state.listaSesizari.filter(function(t){return t.printer_sn!==e.printer_sn});C()("#select_sesizare").prop("selected",!1).find("option:first").prop("selected",!0),a.setState(Object(N.a)({},a.state,{hasUserChoosenSesizare:"",listaSesizari:n,updateReparatieResult:t.updateReparatieResult}))},a.populateSesizari=function(){var e=window.origin;_.a.post(e+"/api/Listare",{type:"Listare_Lista_Sesizari_Active"}).then(function(e){try{var t=JSON.parse(e.data).response;if(t.toString().startsWith("Nu_au_fost_gasite_sesizari_active")&&a.setState(Object(N.a)({},a.state,{result:"Nu_au_fost_gasite_sesizari_active"})),t.toString().startsWith("Listare_Lista_Sesizari_Active")){var n=JSON.parse(e.data),r=n.listaSesizari,s=n.printer_select_options;a.setState(Object(N.a)({},a.state,{result:"SesizariListaAcutualizata",listaSesizari:r,printer_select_options:s}))}}catch(i){console.error(i),C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),C()("#submitBtnRecord").addClass("bg-red")}})},a.handleAlegeSesizareSelect=function(e){var t=a.state.listaSesizari.find(function(t){return t.printer_sn===e.target.value.split("SN: ")[1].trim()});e.target.value.split("SN: ")[1].trim().startsWith("genericSNstoreid")?a.setState(Object(N.a)({},a.state,{updateReparatieResult:"",hasUserChoosenSesizare:e.target.value,serieGenerica:!0,validateCount:7,currentSelectedSesizare:t})):a.setState(Object(N.a)({},a.state,{updateReparatieResult:"",hasUserChoosenSesizare:e.target.value,serieGenerica:!1,validateCount:6,currentSelectedSesizare:t}))},a.selectareSesizare=function(){return a.updateReparatieResult="",r.a.createElement("select",{onChange:a.handleAlegeSesizareSelect,id:"select_sesizare",defaultValue:"Alege o sesizare",className:"browser-default"},r.a.createElement("option",{disabled:!0},"Alege o sesizare"),a.state.listaSesizari.map(function(e,t){return r.a.createElement("option",{key:t},e.store_name+" - { "+e.printer_brand+" - "+e.printer_model+" } - SN: "+e.printer_sn)}))},a.mainComponent=function(){return""===a.state.updateReparatieResult||"undefined"===typeof a.state.updateReparatieResult?r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(n.selectareSesizare,null),a.state.hasUserChoosenSesizare&&r.a.createElement(P,{setChildEmpty:a.setChildEmpty,state:Object.assign({},Object(N.a)({},a.state))})))):"updateOK"===a.state.updateReparatieResult?r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(n.selectareSesizare,null),r.a.createElement("br",null),r.a.createElement("div",{className:"alert alert-success"},r.a.createElement("strong",null,"Reparatie efectuata cu Success"),r.a.createElement("br",null),r.a.createElement("br",null))))):"updateNotOK"===a.state.updateReparatieResult?r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(n.selectareSesizare,null),r.a.createElement("br",null),r.a.createElement("div",{className:"alert alert-success"},r.a.createElement("strong",null,"Reparatie efectuata cu Success"),r.a.createElement("br",null),r.a.createElement("br",null))))):void 0},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.populateSesizari()}},{key:"componentWillUpdate",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 "},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"col-centered"},r.a.createElement("br",null),r.a.createElement("h1",null,this.state.componentTitle),r.a.createElement(this.mainComponent,null)),r.a.createElement("br",null)))))}}]),t}(n.Component),V=function(e){return r.a.createElement("tr",{id:"tdParent"+e.index},e.sqlTableFildsList.map(function(t,a){return r.a.createElement("td",{id:e.index,key:a},e.item[t])}))},J=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={type:"",viewTableFildsList:[],sqlTableFildsList:[],sqlcommand:"",storelist:[]},a.getTableRequestedData=function(){var e=Object.assign({},Object(N.a)({},a.props.state));a.setState(e);var t=window.origin;_.a.post(t+"/api/Listare",e).then(function(e){try{var t=JSON.parse(e.data).response;if("NoItemsInTheList"===t&&C()("#EmptySpan").removeClass("hidden"),"ok"===t){C()("#EmptySpan").addClass("hidden");var n=JSON.parse(e.data).storelist,r=Object.assign({},Object(N.a)({},a.state),{storelist:Object(x.a)(n)});a.setState(r)}}catch(s){C()("#EmptySpan").text("Conexiune cu baza de date Inexistenta!!"),C()("#EmptySpan").addClass("bg-red"),C()("#EmptySpan").removeClass("hidden")}})},a.returnTableHeader=a.props.state.viewTableFildsList.map(function(e,t){return r.a.createElement("th",{key:t},e)}),a.returnTableBody=a.state.storelist.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",null,e[a.state.sqlTableFildsList[0]]),r.a.createElement("th",null,e[a.state.sqlTableFildsList[1]]))}),a.handleClick=function(e){a.forceUpdate()},a.handleSubmit=function(e){e.preventDefault()},a.convertToCSV=function(){for(var e="[{",t=0;t<a.state.sqlTableFildsList.length;t++){var n=a.state.sqlTableFildsList[t];e+=JSON.stringify(n)+":"+JSON.stringify(n)+","}e=e.substring(0,e.length-1),e+="}]";var r=(e=[].concat(Object(x.a)(JSON.parse(e)),Object(x.a)(a.state.storelist))).map(function(e){return JSON.stringify(Object.values(e))}).join("\n").replace(/(^\[)|(\]$)/gm,""),s=document.createElement("a");s.href="data:attachment/csv,"+r,s.target="_Blank",s.download=a.props.state.componentTitle.replace(/(^\[)|(\]$)/gm,"")+".csv",document.body.appendChild(s),s.click()},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.getTableRequestedData()}},{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 "},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("br",null),r.a.createElement("div",{className:"col-centered"},r.a.createElement("h1",null,this.props.state.componentTitle),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("table",{className:"table table-responsive table-bordered table-striped table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,0!==this.state.viewTableFildsList.length&&this.returnTableHeader)),r.a.createElement("tbody",null,0!==this.state.storelist.length&&this.state.storelist.map(function(t,a){return r.a.createElement(V,{key:a,index:a,item:t,sqlTableFildsList:e.props.state.sqlTableFildsList})}),r.a.createElement("tr",null,r.a.createElement("td",{id:"EmptySpan",className:"info",colSpan:this.state.viewTableFildsList.length},"Empty")))),r.a.createElement("button",{onClick:this.convertToCSV,id:"downloadCSV",className:"btn btn-primary"},"Print To CSV"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))))}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={type:"General_Listing",viewTableFildsList:["Brand","Model","Serie","Total Cost Reparatie","Pret Lista"],sqlTableFildsList:["printer_brand","printer_model","printer_sn","repair_cost","printer_list_price"],sqlcommand:"SELECT printer_brand,printer_model,printer_sn,IFNUll((select SUM(repair_cost) from printers_repairs_log WHERE printer_id=prn.printer_id),0) repair_cost,IFNUll(printer_list_price,0) printer_list_price from printers prn order by repair_cost desc",storelist:[],componentTitle:"Pret Reparatii / Imprimante",table_name:"printers",deleteListIndexBy:"printer_sn",response:""},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){""===sessionStorage.getItem("user_name")&&""===sessionStorage.getItem("token")&&this.props.history.push("/"),"admin"!==sessionStorage.getItem("role")&&"store"!==sessionStorage.getItem("role")&&"storeraport"!==sessionStorage.getItem("role")&&this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(J,{state:this.state}))}}]),t}(n.Component),W=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={type:"General_Listing",viewTableFildsList:["Nume Magazin","Locatie Magazin","Total Cost Reparatii Imprimante"],sqlTableFildsList:["store_name","store_location","repair_cost"],sqlcommand:"select store_name , store_location, IFNULL((select sum(repair_cost) from printers_repairs_log where store_id=st_info.store_id),0) repair_cost from store_info st_info order by repair_cost desc",storelist:[],componentTitle:"Pret Reparatii / Magazin",table_name:"printers",deleteListIndexBy:"printer_sn",response:""},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){""===sessionStorage.getItem("user_name")&&""===sessionStorage.getItem("token")&&this.props.history.push("/"),"admin"!==sessionStorage.getItem("role")&&"store"!==sessionStorage.getItem("role")&&"storeraport"!==sessionStorage.getItem("role")&&this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(J,{state:this.state}))}}]),t}(n.Component),H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={type:"",viewTableFildsList:[],sqlTableFildsList:[],sqlcommand:"",storelist:[],storelistNameID:[]},a.getTableRequestedData=function(e){var t=Object.assign({},Object(N.a)({},e.state)),n=window.origin;_.a.post(n+"/api/Listare",t).then(function(t){try{var n=JSON.parse(t.data).response;if("NoItemsInTheList"===n){C()("#EmptySpan").removeClass("hidden");var r=Object.assign({},Object(N.a)({},e.state),{storelist:[]});a.setState(r)}if("ok"===n){C()("#EmptySpan").addClass("hidden");var s=JSON.parse(t.data).storelist,i=Object.assign({},Object(N.a)({},e.state),{storelist:Object(x.a)(s)});a.setState(i)}}catch(l){C()("#EmptySpan").text("Conexiune cu baza de date Inexistenta!!"),C()("#EmptySpan").addClass("bg-red"),C()("#EmptySpan").removeClass("hidden")}})},a.returnTableBody=function(){a.state.storelist.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",null,e[a.state.sqlTableFildsList[0]]),r.a.createElement("th",null,e[a.state.sqlTableFildsList[1]]))})},a.handleClick=function(e){a.forceUpdate()},a.handleSubmit=function(e){e.preventDefault()},a.convertToCSV=function(){for(var e="[{",t=0;t<a.state.sqlTableFildsList.length;t++){var n=a.state.sqlTableFildsList[t];e+=JSON.stringify(n)+":"+JSON.stringify(n)+","}e=e.substring(0,e.length-1),e+="}]";var r=(e=[].concat(Object(x.a)(JSON.parse(e)),Object(x.a)(a.state.storelist))).map(function(e){return JSON.stringify(Object.values(e))}).join("\n").replace(/(^\[)|(\]$)/gm,""),s=document.createElement("a");s.href="data:attachment/csv,"+r,s.target="_Blank",s.download=a.props.state.componentTitle.replace(/(^\[)|(\]$)/gm,"")+".csv",document.body.appendChild(s),s.click()},a.selectareSesizare=function(){return a.updateReparatieResult="",r.a.createElement("select",{onChange:a.props.handleAlegeMagazinSelect,id:"select_sesizare",defaultValue:"Alege Un Magazin",className:"browser-default"},r.a.createElement("option",{disabled:!0},"Alege Un Magazin"),a.props.state.storelistNameID.map(function(e,t){return r.a.createElement("option",{key:t},e.store_name)}))},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){""!==e.sqlcommand&&this.getTableRequestedData(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 "},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("br",null),r.a.createElement("div",{className:"col-centered"},r.a.createElement("h1",null,this.props.state.componentTitle),r.a.createElement("div",{className:"row"},r.a.createElement(this.selectareSesizare,null)),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("table",{className:"table table-responsive table-bordered table-striped table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,0!==this.state.viewTableFildsList.length&&this.state.viewTableFildsList.map(function(e,t){return r.a.createElement("th",{key:t},e)}))),r.a.createElement("tbody",null,0!==this.state.storelist.length&&this.state.storelist.map(function(t,a){return r.a.createElement(V,{key:a,index:a,item:t,sqlTableFildsList:e.props.state.sqlTableFildsList})}),r.a.createElement("tr",null,r.a.createElement("td",{id:"EmptySpan",className:"info",colSpan:this.state.viewTableFildsList.length},"Empty")))),r.a.createElement("button",{onClick:this.convertToCSV,id:"downloadCSV",className:"btn btn-primary"},"Print To CSV"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))))}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={storelist:[],type:"General_Listing",componentTitle:"Vizualizare Istorie Imprimante / Magazin",storelistNameID:[],response:""},a.handleAlegeMagazinSelect=function(e){var t=a.state.storelistNameID.find(function(t){return t.store_name===e.target.value});a.setState({viewTableFildsList:["Data","Brand Imprimanta","Model Imprimanta","Serie Imprimanta","Notite Imprimanta"],sqlTableFildsList:["printers_history_date","printer_brand","printer_model","printer_sn","printers_history_notes"],sqlcommand:"select prn_his.printers_history_date,prn.printer_brand, prn.printer_model, prn.printer_sn,prn_his.printers_history_notes from printers_history prn_his, printers prn where prn_his.store_id='"+t.store_id+"' and prn.printer_id=prn_his.printer_id order by prn_his.printers_history_date DESC",table_name:"printers"})},a.getStoreList=function(){var e=Object.assign({},{payload:"NONE"},{type:"Listare_Magazine"});if(0===a.state.storelist.length){var t=window.origin;_.a.post(t+"/api/Listare",e).then(function(e){try{var t=JSON.parse(e.data),n=t.response,r=t.store_location;"StoreLocationSugestion"===n&&a.setState(Object(N.a)({},a.state,{storelistNameID:Object(x.a)(r)}))}catch(s){console.error(s),C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),C()("#submitBtnRecord").addClass("bg-red")}});var n=new Date;a.setState(Object(N.a)({},a.state,{date:n}))}},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){""===sessionStorage.getItem("user_name")&&""===sessionStorage.getItem("token")&&this.props.history.push("/"),"admin"!==sessionStorage.getItem("role")&&"store"!==sessionStorage.getItem("role")&&"storeraport"!==sessionStorage.getItem("role")&&this.props.history.push("/"),this.getStoreList()}},{key:"render",value:function(){return r.a.createElement("div",null,0!==this.state.storelistNameID.length&&r.a.createElement(H,{state:this.state,handleAlegeMagazinSelect:this.handleAlegeMagazinSelect}))}}]),t}(n.Component),$=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={type:"",viewTableFildsList:[],sqlTableFildsList:[],sqlcommand:"",storelist:[],printerlistNameID:[]},a.getTableRequestedData=function(e){var t=Object.assign({},Object(N.a)({},e.state)),n=window.origin;_.a.post(n+"/api/Listare",t).then(function(t){try{var n=JSON.parse(t.data).response;if("NoItemsInTheList"===n){C()("#EmptySpan").removeClass("hidden");var r=Object.assign({},Object(N.a)({},e.state),{storelist:[]});a.setState(r)}if("ok"===n){C()("#EmptySpan").addClass("hidden");var s=JSON.parse(t.data).storelist,i=Object.assign({},Object(N.a)({},e.state),{storelist:Object(x.a)(s)});a.setState(i)}}catch(l){C()("#EmptySpan").text("Conexiune cu baza de date Inexistenta!!"),C()("#EmptySpan").addClass("bg-red"),C()("#EmptySpan").removeClass("hidden")}})},a.returnTableBody=function(){a.state.storelist.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",null,e[a.state.sqlTableFildsList[0]]),r.a.createElement("th",null,e[a.state.sqlTableFildsList[1]]))})},a.handleClick=function(e){a.forceUpdate()},a.handleSubmit=function(e){e.preventDefault()},a.convertToCSV=function(){for(var e="[{",t=0;t<a.state.sqlTableFildsList.length;t++){var n=a.state.sqlTableFildsList[t];e+=JSON.stringify(n)+":"+JSON.stringify(n)+","}e=e.substring(0,e.length-1),e+="}]";var r=(e=[].concat(Object(x.a)(JSON.parse(e)),Object(x.a)(a.state.storelist))).map(function(e){return JSON.stringify(Object.values(e))}).join("\n").replace(/(^\[)|(\]$)/gm,""),s=document.createElement("a");s.href="data:attachment/csv,"+r,s.target="_Blank",s.download=a.props.state.componentTitle.replace(/(^\[)|(\]$)/gm,"")+".csv",document.body.appendChild(s),s.click()},a.selectareSesizare=function(){return a.updateReparatieResult="",r.a.createElement("select",{onChange:a.props.handleAlegeImprimantaSelect,id:"select_sesizare",defaultValue:"Alege o Imprimanta",className:"browser-default"},r.a.createElement("option",{disabled:!0},"Alege o Imprimanta"),a.props.state.printerlistNameID.map(function(e,t){return r.a.createElement("option",{id:e.printer_id,key:t},e.printer_sn+" - "+e.printer_brand+" - "+e.printer_model)}))},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){""!==e.sqlcommand&&this.getTableRequestedData(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 "},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("br",null),r.a.createElement("div",{className:"col-centered"},r.a.createElement("h1",null,this.props.state.componentTitle),r.a.createElement("div",{className:"row"},r.a.createElement(this.selectareSesizare,null)),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("table",{className:"table table-responsive table-bordered table-striped table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,0!==this.state.viewTableFildsList.length&&this.state.viewTableFildsList.map(function(e,t){return r.a.createElement("th",{key:t},e)}))),r.a.createElement("tbody",null,0!==this.state.storelist.length&&this.state.storelist.map(function(t,a){return r.a.createElement(V,{key:a,index:a,item:t,sqlTableFildsList:e.props.state.sqlTableFildsList})}),r.a.createElement("tr",null,r.a.createElement("td",{id:"EmptySpan",className:"info",colSpan:this.state.viewTableFildsList.length},"Empty")))),r.a.createElement("button",{onClick:this.convertToCSV,id:"downloadCSV",className:"btn btn-primary"},"Print To CSV"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))))}}]),t}(n.Component),K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={storelist:[],type:"General_Listing",componentTitle:"Vizualizare Istorie Imprimante",printerlistNameID:[],response:""},a.handleAlegeImprimantaSelect=function(e){var t=C()("#select_sesizare").find("option:selected").attr("id");a.setState({viewTableFildsList:["Data","Magazin","Brand Imprimanta","Model Imprimanta","Serie Imprimanta","Notite Imprimanta"],sqlTableFildsList:["printers_history_date","store_name","printer_brand","printer_model","printer_sn","printers_history_notes"],sqlcommand:"select prn_his.printers_history_date,stor.store_name,prn.printer_brand, prn.printer_model, prn.printer_sn,prn_his.printers_history_notes from printers_history prn_his, printers prn,store_info stor where prn_his.printer_id=prn.printer_id and prn_his.printer_id="+t+" and stor.store_id=prn_his.store_id order by prn_his.printers_history_date DESC",table_name:"printers"})},a.getPrinterList=function(){var e=Object.assign({},{payload:"NONE"},{type:"Listare_Imprimante"});if(0===a.state.storelist.length){var t=window.origin;_.a.post(t+"/api/Listare",e).then(function(e){try{var t=JSON.parse(e.data),n=t.response,r=t.printer_list;"StoreLocationSugestion"===n&&a.setState(Object(N.a)({},a.state,{printerlistNameID:Object(x.a)(r)}))}catch(s){C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),C()("#submitBtnRecord").addClass("bg-red")}});var n=new Date;a.setState(Object(N.a)({},a.state,{date:n}))}},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){""===sessionStorage.getItem("user_name")&&""===sessionStorage.getItem("token")&&this.props.history.push("/"),"admin"!==sessionStorage.getItem("role")&&"store"!==sessionStorage.getItem("role")&&"storeraport"!==sessionStorage.getItem("role")&&this.props.history.push("/"),this.getPrinterList()}},{key:"render",value:function(){return r.a.createElement("div",null,0!==this.state.printerlistNameID.length&&r.a.createElement($,{state:this.state,handleAlegeImprimantaSelect:this.handleAlegeImprimantaSelect}))}}]),t}(n.Component),Z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={type:"",viewTableFildsList:[],sqlTableFildsList:[],sqlcommand:"",storelist:[],printerlistNameID:[]},a.getTableRequestedData=function(e){var t=Object.assign({},Object(N.a)({},e.state)),n=window.origin;_.a.post(n+"/api/Listare",t).then(function(t){try{var n=JSON.parse(t.data).response;if("NoItemsInTheList"===n){C()("#EmptySpan").removeClass("hidden");var r=Object.assign({},Object(N.a)({},e.state),{storelist:[]});a.setState(r)}if("ok"===n){C()("#EmptySpan").addClass("hidden");var s=JSON.parse(t.data).storelist,i=Object.assign({},Object(N.a)({},e.state),{storelist:Object(x.a)(s)});a.setState(i)}}catch(l){C()("#EmptySpan").text("Conexiune cu baza de date Inexistenta!!"),C()("#EmptySpan").addClass("bg-red"),C()("#EmptySpan").removeClass("hidden")}})},a.returnTableBody=function(){a.state.storelist.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",null,e[a.state.sqlTableFildsList[0]]),r.a.createElement("th",null,e[a.state.sqlTableFildsList[1]]))})},a.handleClick=function(e){a.forceUpdate()},a.handleSubmit=function(e){e.preventDefault()},a.convertToCSV=function(){for(var e="[{",t=0;t<a.state.sqlTableFildsList.length;t++){var n=a.state.sqlTableFildsList[t];e+=JSON.stringify(n)+":"+JSON.stringify(n)+","}e=e.substring(0,e.length-1),e+="}]";var r=(e=[].concat(Object(x.a)(JSON.parse(e)),Object(x.a)(a.state.storelist))).map(function(e){return JSON.stringify(Object.values(e))}).join("\n").replace(/(^\[)|(\]$)/gm,""),s=document.createElement("a");s.href="data:attachment/csv,"+r,s.target="_Blank",s.download=a.props.state.componentTitle.replace(/(^\[)|(\]$)/gm,"")+".csv",document.body.appendChild(s),s.click()},a.selectareSesizare=function(){return a.updateReparatieResult="",r.a.createElement("select",{onChange:a.props.handleAlegeImprimantaSelect,id:"select_sesizare",defaultValue:"Alege o Imprimanta",className:"browser-default"},r.a.createElement("option",{disabled:!0},"Alege o Imprimanta"),a.props.state.printerlistNameID.map(function(e,t){return r.a.createElement("option",{id:e.printer_id,key:t},e.printer_sn+" - "+e.printer_brand+" - "+e.printer_model)}))},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){""!==e.sqlcommand&&this.getTableRequestedData(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 "},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("br",null),r.a.createElement("div",{className:"col-centered"},r.a.createElement("h1",null,this.props.state.componentTitle),r.a.createElement("div",{className:"row"},r.a.createElement(this.selectareSesizare,null)),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("table",{className:"table table-responsive table-bordered table-striped table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,0!==this.state.viewTableFildsList.length&&this.state.viewTableFildsList.map(function(e,t){return r.a.createElement("th",{key:t},e)}))),r.a.createElement("tbody",null,0!==this.state.storelist.length&&this.state.storelist.map(function(t,a){return r.a.createElement(V,{key:a,index:a,item:t,sqlTableFildsList:e.props.state.sqlTableFildsList})}),r.a.createElement("tr",null,r.a.createElement("td",{id:"EmptySpan",className:"info",colSpan:this.state.viewTableFildsList.length},"Empty")))),r.a.createElement("button",{onClick:this.convertToCSV,id:"downloadCSV",className:"btn btn-primary"},"Print To CSV"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))))}}]),t}(n.Component),X=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={storelist:[],type:"General_Listing",componentTitle:"Vizualizare Reparatii / Imprimanta",printerlistNameID:[],response:""},a.handleAlegeImprimantaSelect=function(e){var t=C()("#select_sesizare").find("option:selected").attr("id");a.setState({viewTableFildsList:["Data Reparatie","Magazin","Contor Imprimanta","Piese Montate","Info Reparatie","Cost Reparatie"],sqlTableFildsList:["repair_date","store_name","repair_counter","repair_parts_fitted","repair_info","repair_cost"],sqlcommand:"select prn_rep_log.repair_date,str.store_name, prn_rep_log.repair_counter, prn_rep_log.repair_parts_fitted, prn_rep_log.repair_cost,prn_rep_log.repair_info from printers_repairs_log prn_rep_log, store_info str where printer_id="+t+" and str.store_id=prn_rep_log.store_id ORDER by prn_rep_log.repair_date desc",table_name:"printers"})},a.getPrinterList=function(){var e=Object.assign({},{payload:"NONE"},{type:"Listare_Imprimante"});if(0===a.state.storelist.length){var t=window.origin;_.a.post(t+"/api/Listare",e).then(function(e){try{var t=JSON.parse(e.data),n=t.response,r=t.printer_list;"StoreLocationSugestion"===n&&a.setState(Object(N.a)({},a.state,{printerlistNameID:Object(x.a)(r)}))}catch(s){console.error(s),C()("#submitBtnRecord").text("Conexiune cu baza de date Inexistenta!!"),C()("#submitBtnRecord").addClass("bg-red")}});var n=new Date;a.setState(Object(N.a)({},a.state,{date:n}))}},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){""===sessionStorage.getItem("user_name")&&""===sessionStorage.getItem("token")&&this.props.history.push("/"),"admin"!==sessionStorage.getItem("role")&&"store"!==sessionStorage.getItem("role")&&"storeraport"!==sessionStorage.getItem("role")&&this.props.history.push("/"),this.getPrinterList()}},{key:"render",value:function(){return r.a.createElement("div",null,0!==this.state.printerlistNameID.length&&r.a.createElement(Z,{state:this.state,handleAlegeImprimantaSelect:this.handleAlegeImprimantaSelect}))}}]),t}(n.Component),Q=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/IntroducereMagazinNou",component:z}),r.a.createElement(d.a,{path:"/VizualizareListareMagazine",component:L}),r.a.createElement(d.a,{path:"/IntroducereUserNou",component:R}),r.a.createElement(d.a,{exact:!0,path:"/Login",component:y}),r.a.createElement(d.a,{path:"/IntroducereImprimantaNoua",component:k}),r.a.createElement(d.a,{path:"/VizualizareListareUseri",component:F}),r.a.createElement(d.a,{path:"/VizualizareListareImprimante",component:B}),r.a.createElement(d.a,{path:"/UpdatareInformatii",component:M}),r.a.createElement(d.a,{path:"/IntroducereReparatie",component:A}),r.a.createElement(d.a,{path:"/SesizareProblemaNoua",component:q}),r.a.createElement(d.a,{path:"/PretReparatiiImprimante",component:G}),r.a.createElement(d.a,{path:"/PretReparatiiMagazin",component:W}),r.a.createElement(d.a,{path:"/VizualizareIstorieImprimanteMagazin",component:Y}),r.a.createElement(d.a,{path:"/VizualizareIstorieImprimante",component:K}),r.a.createElement(d.a,{path:"/VizualizareReparatiiImprimanta",component:X}))))}}]),t}(n.Component),ee=a(39),te=a.n(ee),ae=a(20),ne={credentials:{username:"",token:"",role:""}};var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;return"userauth"===t.type?Object.assign({},{credentials:t.credentials}):function(e){var t=sessionStorage.getItem("token"),a=sessionStorage.getItem("role"),n=sessionStorage.getItem("user_name");return t&&a&&n?Object.assign({},e,{credentials:{username:n,role:a,token:t}}):e}(e)},se=Object(ae.c)({auth:re}),ie=a(40),le=Object(ae.d)(se,Object(ae.a)(ie.a));te.a.render(r.a.createElement(u.a,{store:le},r.a.createElement(Q,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.3c19da43.chunk.js.map